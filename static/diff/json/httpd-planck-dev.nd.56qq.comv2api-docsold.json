{"host":"d-planck-dev.nd.56qq.com","info":{"title":"容器平台2.0 API文档","contact":{"url":"http://confluence.56qq.cn/display/~yuwen.wang@56qq.com","name":"yuwen.wang@56qq.com","email":"yuwen.wang@56qq.com"},"version":"2.0","description":"容器平台2.0 API文档，文档前缀统一增加/api访问","termsOfService":"http://localhost:8080/api"},"tags":[{"name":"migration","description":"Migration Controller"},{"name":"kmKey","description":"Km Key Controller"},{"name":"docker","description":"Docker Repo Controller"},{"name":"openapi","description":"Open Api Controller"},{"name":"serviceQuota","description":"Service Quota Controller"},{"name":"albert","description":"Albert Controller"},{"name":"app","description":"App Instance Controller"},{"name":"kmSecret","description":"Km Secret Controller"},{"name":"image","description":"Image Controller"},{"name":"system","description":"System Controller"},{"name":"serviceAccount","description":"SA Controller"},{"name":"cluster","description":"Cluster Controller"},{"name":"log","description":"Audit Log Controller"},{"name":"domain","description":"Domain Controller"},{"name":"label","description":"Label Controller"},{"name":"archive","description":"Archive Controller"},{"name":"container","description":"Container Controller"},{"name":"service","description":"Service Instance Controller"},{"name":"watch-api-controller","description":"Watch Api Controller"},{"name":"serviceOperation","description":"Service Op Controller"},{"name":"autoscale","description":"Autoscale Controller"},{"name":"planckZone","description":"Planck Zone Controller"},{"name":"ci","description":"Ci Controller"},{"name":"deploy","description":"Deployment Controller"},{"name":"dms","description":"Dms Controller"},{"name":"middleware","description":"Middleware Controller"}],"paths":{"/apps":{"get":{"tags":["app"],"summary":"查询应用列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"},{"in":"query","name":"status","type":"string","required":false,"description":"状态"},{"in":"query","name":"appName","type":"string","required":false,"description":"应用名称"},{"in":"query","name":"deployType","type":"string","required":false,"description":"部署类型"},{"in":"query","name":"createUser","type":"string","required":false,"description":"创建人"},{"in":"query","name":"pn","type":"string","required":false,"description":"页数"},{"in":"query","name":"ps","type":"string","required":false,"description":"条数"}],"description":"根据状态查询应用实例列表","operationId":"api.app.list_1"},"post":{"tags":["app"],"summary":"创建应用","consumes":["application/json"],"produces":["*/*"],"responses":{"201":{"schema":{"$ref":"#/definitions/Response"},"description":"Created"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"appInstance","schema":{"$ref":"#/definitions/AppInstance"},"required":false,"description":"应用实例"}],"description":"请使用body example, 参数说明: {status -- 1: active, 2: inactive, 3: deleting, 4: deleted}","operationId":"api.app.create_1"}},"/kmkey":{"get":{"tags":["kmKey"],"summary":"获取kmkey详情","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"uuid","type":"string","required":true,"description":"Key uuid"}],"description":"获取kmkey详情","operationId":"api.kmkey.get"},"post":{"tags":["kmKey"],"summary":"创建/修改kmkey","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"kmKeyDto","schema":{"$ref":"#/definitions/KmKeyDto"},"required":true,"description":"kmKeyDto"}],"description":"创建/修改kmkey，uuid存在表示修改，否则创建","operationId":"api.kmkey.post"},"delete":{"tags":["kmKey"],"summary":"删除kmkey","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"uuid","type":"string","required":true,"description":"Key uuid"}],"description":"删除kmkey","operationId":"api.kmkey.delete"}},"/labels":{"get":{"tags":["label"],"summary":"标签列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"labelType","type":"integer","format":"int32","required":false,"description":"label类型：1主机2集群3服务，不传查询全部"}],"operationId":"api.label.list"},"post":{"tags":["label"],"summary":"创建标签","consumes":["application/json"],"produces":["*/*"],"responses":{"201":{"schema":{"$ref":"#/definitions/Response"},"description":"Created"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"labelInfo","schema":{"$ref":"#/definitions/LabelInfo"},"required":true,"description":"labelInfo"}],"description":"创建标签","operationId":"api.label.create_1"}},"/domains":{"get":{"tags":["domain"],"summary":"查看域名列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"},{"in":"query","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务实例uuid"},{"in":"query","name":"key","type":"string","required":false,"description":"关键字"},{"in":"query","name":"deployType","type":"string","required":false,"description":"部署类型"},{"in":"query","name":"status","type":"string","required":false,"description":"状态"},{"in":"query","name":"pn","type":"string","required":false,"description":"页数"},{"in":"query","name":"ps","type":"string","required":false,"description":"条数"}],"description":"根据条件查询查域名映射","operationId":"api.domain.list_1"}},"/healthy":{"get":{"tags":["system"],"summary":"healthy","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"}],"operationId":"healthyUsingGET_1"}},"/sa/list":{"get":{"tags":["serviceAccount"],"summary":"获取ServiceAccount列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":true,"description":"clusterUuid"},{"in":"query","name":"namespace","type":"string","required":false,"description":"namespace"}],"description":"获取ServiceAccount列表","operationId":"api.sa.list"}},"/clusters":{"get":{"tags":["cluster"],"summary":"查询集群列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"datas","type":"array","items":{"type":"object"},"required":false,"collectionFormat":"multi"},{"in":"query","name":"conditions","type":"object","required":false},{"in":"query","name":"total","type":"integer","format":"int32","required":false},{"in":"query","name":"stats","type":"object","required":false},{"in":"query","name":"name","type":"string","required":false,"description":"集群名称"},{"in":"query","name":"agUrl","type":"string","required":false,"description":"AG接口地址"},{"in":"query","name":"isAll","type":"string","required":false,"description":"是否获取全部：true/false，过滤用户角色"},{"in":"query","name":"pn","type":"string","required":false,"description":"页数"},{"in":"query","name":"ps","type":"string","required":false,"description":"条数"}],"description":"根据条件查询集群","operationId":"api.cluster.list_1"},"post":{"tags":["cluster"],"summary":"创建集群","consumes":["application/json"],"produces":["*/*"],"responses":{"201":{"schema":{"$ref":"#/definitions/Response"},"description":"Created"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"cluster","schema":{"$ref":"#/definitions/Cluster"},"required":false,"description":"集群"}],"operationId":"api.cluster.create"}},"/kmsecret":{"get":{"tags":["kmSecret"],"summary":"获取kmsecret详情","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"uuid","type":"string","required":true,"description":"密钥包uuid"}],"description":"获取kmsecret详情","operationId":"api.kmsecret.get"},"post":{"tags":["kmSecret"],"summary":"创建/修改kmsecret","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"kmSecretDto","schema":{"$ref":"#/definitions/KmSecretDto"},"required":true,"description":"kmSecretDto"}],"description":"创建/修改kmsecret","operationId":"api.kmsecret.post"},"delete":{"tags":["kmSecret"],"summary":"删除kmsecret","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"uuid","type":"string","required":true,"description":"密钥包uuid"}],"description":"删除kmsecret","operationId":"api.kmsecret.delete"}},"/auditlogs":{"get":{"tags":["log"],"summary":"查询审计日志","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"datas","type":"array","items":{"type":"object"},"required":false,"collectionFormat":"multi"},{"in":"query","name":"conditions","type":"object","required":false},{"in":"query","name":"total","type":"integer","format":"int32","required":false},{"in":"query","name":"stats","type":"object","required":false},{"in":"query","name":"eventType","type":"string","required":false,"description":"事件类型"},{"in":"query","name":"result","type":"string","required":false,"description":"结果"},{"in":"query","name":"beginTime","type":"string","required":false,"description":"开始时间"},{"in":"query","name":"endTime","type":"string","required":false,"description":"结束时间"},{"in":"query","name":"createdUser","type":"string","required":false,"description":"创建人"},{"in":"query","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务id"},{"in":"query","name":"clusterUuid","type":"string","required":false,"description":"集群id"},{"in":"query","name":"pn","type":"string","required":false,"description":"页数"},{"in":"query","name":"ps","type":"string","required":false,"description":"条数"}],"description":"根据条件查询审计日志列表","operationId":"api.auditlog.list"}},"/ci/deploy":{"post":{"tags":["ci"],"summary":"ci部署","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"deployMeta","schema":{"$ref":"#/definitions/CiDeployMeta"},"required":true,"description":"deployMeta"}],"description":"ci部署","operationId":"api.ci.deploy_1"}},"/migration":{"get":{"tags":["migration"],"summary":"获取迁移任务","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/ResponseOfMigrationRespDto"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"migrationId","type":"integer","format":"int64","required":true,"description":"migrationId"}],"operationId":"api.migration.get_1"},"post":{"tags":["migration"],"summary":"创建迁移任务","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/ResponseOflong"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"migrationDto","schema":{"$ref":"#/definitions/MigrationDto"},"required":true,"description":"migrationDto"}],"description":"创建迁移任务","operationId":"api.migration.create_1"},"delete":{"tags":["migration"],"summary":"删除迁移任务","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"migrationId","type":"integer","format":"int64","required":true,"description":"migrationId"}],"description":"删除迁移任务","operationId":"api.migration.delete"}},"/ci/upgrade":{"post":{"tags":["ci"],"summary":"op升级服务","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"upgradeMeta","schema":{"$ref":"#/definitions/CiUpgradeMeta"},"required":true,"description":"upgradeMeta"}],"description":"op升级服务","operationId":"api.op.upgrade_1"}},"/containers":{"get":{"tags":["container"],"summary":"查询容器列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"},{"in":"query","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务实例uuid"},{"in":"query","name":"appName","type":"string","required":false,"description":"应用名"},{"in":"query","name":"serviceName","type":"string","required":false,"description":"服务名"},{"in":"query","name":"serviceVersion","type":"string","required":false,"description":"服务版本"},{"in":"query","name":"deployType","type":"string","required":false,"description":"部署类型"},{"in":"query","name":"domain","type":"string","required":false,"description":"域名"},{"in":"query","name":"node","type":"string","required":false,"description":"节点"},{"in":"query","name":"status","type":"string","required":false,"description":"状态"},{"in":"query","name":"podName","type":"string","required":false,"description":"pod名称"},{"in":"query","name":"pn","type":"string","required":false,"description":"页数"},{"in":"query","name":"ps","type":"string","required":false,"description":"条数"}],"description":"根据条件查询容器","operationId":"api.container.list_1"}},"/kmkey/list":{"get":{"tags":["kmKey"],"summary":"获取kmkey列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"keyName","type":"string","required":false,"description":"key名称"},{"in":"query","name":"env","type":"string","required":false,"description":"环境"},{"in":"query","name":"keyType","type":"string","required":false,"description":"密钥类型"},{"in":"query","name":"serviceId","type":"string","required":false,"description":"服务ID"},{"in":"query","name":"serviceDist","type":"string","required":false,"description":"服务发行版"},{"in":"query","name":"source","type":"integer","format":"int32","required":false,"description":"密钥包来源：1手工；2Hooke"},{"in":"query","name":"appNum","type":"string","required":false,"description":"应用编号"},{"in":"query","name":"memo","type":"string","required":false,"description":"备注"},{"in":"query","name":"pn","type":"string","required":false,"description":"页数"},{"in":"query","name":"ps","type":"string","required":false,"description":"条数"}],"description":"获取kmkey列表","operationId":"api.kmkey.list"}},"/migrations":{"get":{"tags":["migration"],"summary":"查询迁移任务列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/ResponseOfPageOfMigrationRespDto"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"key","type":"string","required":false,"description":"key"},{"in":"query","name":"status","type":"integer","format":"int32","required":false,"description":"status"},{"in":"query","name":"pn","type":"integer","format":"int32","required":true,"description":"pn"},{"in":"query","name":"ps","type":"integer","format":"int32","required":true,"description":"ps"}],"description":"查询迁移任务列表","operationId":"api.migrations_1"}},"/delpoyments":{"get":{"tags":["deploy"],"summary":"部署列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"datas","type":"array","items":{"type":"object"},"required":false,"collectionFormat":"multi"},{"in":"query","name":"conditions","type":"object","required":false},{"in":"query","name":"total","type":"integer","format":"int32","required":false},{"in":"query","name":"stats","type":"object","required":false},{"in":"query","name":"clusterUuid","type":"string","required":false,"description":"clusterUuid"},{"in":"query","name":"source","type":"integer","format":"int32","required":false,"description":"source"},{"in":"query","name":"pn","type":"string","required":false,"description":"页数"},{"in":"query","name":"ps","type":"string","required":false,"description":"条数"}],"operationId":"api.deployment.list"}},"/label/types":{"get":{"tags":["label"],"summary":"标签类型","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"}],"operationId":"api.label.types"}},"/newton/auth":{"get":{"tags":["kmSecret"],"summary":"查询服务授权","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"env","type":"string","required":true,"description":"env"},{"in":"query","name":"serviceId","type":"string","required":true,"description":"serviceId"},{"in":"query","name":"serviceDist","type":"string","required":true,"description":"serviceDist"}],"description":"查询服务授权","operationId":"api.newton.auth.detail"}},"/planck/zone":{"get":{"tags":["planckZone"],"summary":"获取分区信息","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"zoneId","type":"string","required":false,"description":"分区id"},{"in":"query","name":"planckUrl","type":"string","required":false,"description":"中台地址"},{"in":"query","name":"env","type":"string","required":false,"description":"分区环境"}],"description":"中台获取分区信息","operationId":"api.planck.zone.get_1"},"put":{"tags":["planckZone"],"summary":"修改分区状态","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"planckZone","schema":{"$ref":"#/definitions/PlanckZone"},"required":true,"description":"planckZone"}],"description":"中台修改分区状态（启动、停止）","operationId":"api.planck.zone.update_1"},"post":{"tags":["planckZone"],"summary":"添加分区","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"planckZone","schema":{"$ref":"#/definitions/PlanckZone"},"required":true,"description":"planckZone"}],"description":"中台添加分区任务","operationId":"api.planck.zone.add_1"},"delete":{"tags":["planckZone"],"summary":"删除分区信息","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"zoneId","type":"string","required":true,"description":"分区id"}],"description":"中台删除分区信息","operationId":"api.planck.zone.delete"}},"/albert/event":{"post":{"tags":["albert"],"summary":"cd事件接口","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"event","schema":{"type":"string"},"required":false}],"description":"cd事件接口","operationId":"api.albert.event_1"}},"/app/services":{"get":{"tags":["service"],"summary":"查看服务列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"},{"in":"query","name":"key","type":"string","required":false,"description":"查询关键字"},{"in":"query","name":"businessId","type":"string","required":false,"description":"业务中心id"},{"in":"query","name":"status","type":"string","required":false,"description":"服务状态"},{"in":"query","name":"deployType","type":"string","required":false,"description":"部署类型"},{"in":"query","name":"releaseType","type":"string","required":false,"description":"发布类型"},{"in":"query","name":"serviceType","type":"string","required":false,"description":"服务类型"},{"in":"query","name":"serviceName","type":"string","required":false,"description":"服务名"},{"in":"query","name":"serviceType","type":"integer","format":"int32","required":false,"description":"source"},{"in":"query","name":"pn","type":"string","required":false,"description":"页数"},{"in":"query","name":"ps","type":"string","required":false,"description":"条数"}],"description":"根据条件查询服务实例列表","operationId":"api.service.list_1"}},"/domains/list":{"get":{"tags":["domain"],"summary":"查看域名列表v2","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"bizName","type":"string","required":false},{"in":"query","name":"clusterName","type":"string","required":false},{"in":"query","name":"domainUuid","type":"string","required":false},{"in":"query","name":"appInstanceUuid","type":"string","required":false},{"in":"query","name":"serviceInstanceUuid","type":"string","required":false},{"in":"query","name":"replicas","type":"integer","format":"int32","required":false},{"in":"query","name":"scale","type":"integer","format":"int32","required":false},{"in":"query","name":"statusTime","type":"string","format":"date-time","required":false},{"in":"query","name":"continuedTimeStr","type":"string","required":false},{"in":"query","name":"bizTagUuid","type":"string","required":false,"description":"业务中心uuid"},{"in":"query","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"},{"in":"query","name":"namespace","type":"string","required":false,"description":"namespace"},{"in":"query","name":"serviceName","type":"string","required":false,"description":"服务名"},{"in":"query","name":"version","type":"string","required":false,"description":"版本"},{"in":"query","name":"serviceType","type":"integer","format":"int32","required":false,"description":"服务类型:1tomcat7/2tomcat8/3maxwell/4tomcat/5general"},{"in":"query","name":"serviceStatus","type":"string","required":false,"description":"服务状态"},{"in":"query","name":"domainStatus","type":"integer","format":"int32","required":false,"description":"域名状态：3未绑定/2已绑定/4已灰度/1未注册"},{"in":"query","name":"source","type":"integer","format":"int32","required":false,"description":"部署来源：1dms/2cd/3paas/4ci"},{"in":"query","name":"domain","type":"string","required":false,"description":"域名"},{"in":"query","name":"pn","type":"string","required":false,"description":"页数"},{"in":"query","name":"ps","type":"string","required":false,"description":"条数"}],"description":"根据条件查询查域名映射v2","operationId":"api.domain.list2_1"}},"/kmkey/import":{"post":{"tags":["kmKey"],"summary":"导入服务密钥对","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"secretParseDto","schema":{"$ref":"#/definitions/SecretParseDto"},"required":true,"description":"secretParseDto"}],"description":"导入服务密钥对（服务ID,服务编号,服务备注）","operationId":"api.kmkey.import"}},"/planck/watch":{"post":{"tags":["watch-api-controller"],"summary":"k8sWatchEvent","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"k8sWatchEventDto","schema":{"$ref":"#/definitions/K8sWatchEventDto"},"required":true,"description":"k8sWatchEventDto"}],"operationId":"k8sWatchEventUsingPOST_1"}},"/secret/apply":{"post":{"tags":["kmSecret"],"summary":"申请生成证书（界面）","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"kmSecretApplyDto","schema":{"$ref":"#/definitions/KmSecretApplyDto"},"required":true,"description":"kmSecretApplyDto"}],"description":"申请生成证书（界面）","operationId":"api.newton.secret.apply"}},"/secret/zones":{"get":{"tags":["cluster"],"summary":"环境列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"}],"description":"查询密钥使用环境列表","operationId":"api.secret.zones_1"}},"/cluster/nodes":{"get":{"tags":["cluster"],"summary":"查询集群主机","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"labels","type":"string","required":false,"description":"labels"},{"in":"query","name":"exclude","type":"boolean","required":false,"description":"exclude"},{"in":"query","name":"clusterUuid","type":"string","required":false,"description":"集群Uuid"}],"operationId":"api.cluster.list-nodes_1"}},"/cluster/zones":{"get":{"tags":["cluster"],"summary":"环境列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"header","name":"authentication","type":"string","required":false,"description":"认证信息: {\"token\":\"53718b8f-0975-4203-8617-f950ace36ec4\",\"username\":\"yuwen.wang@56qq.com\",\"name\":\"%E7%8E%8B%E7%8E%89%E7%A8%B3\"}"}],"description":"查询集群环境列表","operationId":"api.cluster.zones"}},"/kmsecret/keys":{"get":{"tags":["kmSecret"],"summary":"获取密钥包中的keys","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"uuid","type":"string","required":true,"description":"密钥包uuid"}],"description":"获取密钥包中的keys","operationId":"api.kmsecret.get_5"}},"/kmsecret/list":{"get":{"tags":["kmSecret"],"summary":"获取kmSecret列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"secretName","type":"string","required":false,"description":"密钥包名称"},{"in":"query","name":"env","type":"string","required":false,"description":"环境"},{"in":"query","name":"secretStatus","type":"string","required":false,"description":"密钥包状态：1启用，其他禁用"},{"in":"query","name":"serviceId","type":"string","required":false,"description":"服务ID"},{"in":"query","name":"serviceDist","type":"string","required":false,"description":"服务发行版"},{"in":"query","name":"source","type":"integer","format":"int32","required":false,"description":"密钥包来源：1手工；2Hooke"},{"in":"query","name":"pn","type":"string","required":false,"description":"页数"},{"in":"query","name":"ps","type":"string","required":false,"description":"条数"}],"description":"获取kmSecret列表","operationId":"api.kmsecret.list"}},"/newton/secret":{"post":{"tags":["kmSecret"],"summary":"newton自动生成密钥","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"kmNewtonSecretDto","schema":{"$ref":"#/definitions/KmNewtonSecretDto"},"required":true,"description":"kmNewtonSecretDto"}],"description":"newton自动生成密钥","operationId":"api.newton.secret.create"}},"/service/query":{"get":{"tags":["openapi"],"summary":"solvay根据服务名查询服务详情列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"serviceName","type":"string","required":true,"description":"serviceName"},{"in":"query","name":"env","type":"string","required":false,"description":"env"}],"description":"solvay根据服务名查询服务详情列表","operationId":"api.service.query"}},"/service/quota":{"put":{"tags":["serviceQuota"],"summary":"修改服务额度","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"serviceQuotaDto","schema":{"$ref":"#/definitions/ServiceQuotaDto"},"required":true,"description":"serviceQuotaDto"}],"description":"修改服务额度","operationId":"api.serviceQuota.update_1"},"delete":{"tags":["serviceQuota"],"summary":"删除服务额度","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"uuid","type":"string","required":true,"description":"uuid"}],"description":"删除指定的uuid的服务额度","operationId":"api.serviceQuota.delete_1"}},"/archive/months":{"get":{"tags":["archive"],"summary":"查询归档服务归档月份数","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"},{"in":"query","name":"serviceId","type":"string","required":true,"description":"服务名称"},{"in":"query","name":"serviceVersion","type":"string","required":false,"description":"服务版本"}],"description":"根据服务查询服务归档的月份数","operationId":"api.archive.months"}},"/cluster/images":{"get":{"tags":["image"],"summary":"查询集群镜像列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":false,"description":"集群Uuid"}],"operationId":"api.image.list_1"}},"/openapi/labels":{"get":{"tags":["openapi"],"summary":"查询节点标签","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"}],"description":"查询节点标签","operationId":"api.openapi.labels_1"}},"/service/quotas":{"get":{"tags":["serviceQuota"],"summary":"查询服务额度列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"serviceName","type":"string","required":false,"description":"服务名称"},{"in":"query","name":"pn","type":"string","required":true,"description":"页数"},{"in":"query","name":"ps","type":"string","required":true,"description":"条数"}],"description":"查询服务额度列表","operationId":"api.serviceQuota.list"}},"/container/debug":{"get":{"tags":["container"],"summary":"打开容器远程调试","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务id"},{"in":"query","name":"ip","type":"string","required":false,"description":"容器IP"},{"in":"query","name":"port","type":"string","required":false,"description":"容器Port"}],"description":"打开容器远程调试","operationId":"api.container.debug_1"}},"/dms/departments":{"get":{"tags":["dms"],"summary":"查询部门列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"header","name":"authentication","type":"string","required":false,"description":"用户token"}],"operationId":"api.dms.departments-list"}},"/migration/nodes":{"get":{"tags":["migration"],"summary":"查询集群节点","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/ResponseOfListOfstring"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":true,"description":"clusterUuid"}],"description":"查询集群节点","operationId":"api.migration.nodes"}},"/archive/services":{"get":{"tags":["archive"],"summary":"查询服务列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"serviceName","type":"string","required":false,"description":"服务名称"},{"in":"query","name":"namespace","type":"string","required":false,"description":"环境名称"}],"description":"根据服务列表","operationId":"api.archive.services_2"}},"/cluster/networks":{"get":{"tags":["cluster"],"summary":"网络类型","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"header","name":"authentication","type":"string","required":false,"description":"认证信息: {\"token\":\"53718b8f-0975-4203-8617-f950ace36ec4\",\"username\":\"yuwen.wang@56qq.com\",\"name\":\"%E7%8E%8B%E7%8E%89%E7%A8%B3\"}"}],"description":"查询集群环境网络类型","operationId":"api.cluster.network_1"}},"/kmkey/query/keys":{"get":{"tags":["kmKey"],"summary":"根据环境、类型、服务查询uuid、版本、键名","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"env","type":"string","required":true,"description":"环境"},{"in":"query","name":"keyType","type":"integer","format":"int32","required":true,"description":"Key类型"},{"in":"query","name":"serviceId","type":"string","required":false,"description":"服务ID"}],"description":"根据环境、类型、服务查询uuid、版本、键名","operationId":"api.kmkey.query"}},"/migration/deploy":{"post":{"tags":["migration"],"summary":"部署迁移任务","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"migrationId","type":"integer","format":"int64","required":true,"description":"migrationId"}],"description":"部署迁移任务","operationId":"api.migration.deploy"}},"/openapi/clusters":{"get":{"tags":["openapi"],"summary":"获取集群","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"}],"description":"获取集群","operationId":"api.openapi.clusters"}},"/service/business":{"post":{"tags":["service"],"summary":"设置服务业务中心","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"serviceBusinessDto","schema":{"$ref":"#/definitions/ServiceBusinessDto"},"required":true,"description":"serviceBusinessDto"}],"description":"设置服务业务中心","operationId":"api.service.business.setting_1"}},"/app/service/paste":{"post":{"tags":["service"],"summary":"复制保存服务","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"pasteServiceInstanceDto","schema":{"$ref":"#/definitions/PasteServiceInstanceDto"},"required":true,"description":"pasteServiceInstanceDto"}],"description":"接口复制保存服务实例","operationId":"api.service.create_3"}},"/archives/{metaId}":{"get":{"tags":["archive"],"summary":"查询归档服务文件列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"metaId","type":"string","required":true,"description":"归档元数据id"},{"in":"query","name":"archiveType","type":"string","required":false,"description":"文件归档类型"},{"in":"query","name":"beginDate","type":"string","required":true,"description":"开始日期"},{"in":"query","name":"endDate","type":"string","required":true,"description":"结束日期"}],"description":"根据归档元数据id查询服务归档文件列表","operationId":"api.archive.files_1"}},"/container/grafana":{"get":{"tags":["container"],"summary":"获取grafana关于容器详情地址","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"},{"in":"query","name":"podName","type":"string","required":false,"description":"pod名称"}],"description":"获取grafana关于容器详情地址","operationId":"api.container.grafana_1"}},"/label/{uuid}/path":{"delete":{"tags":["label"],"summary":"删除标签","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"uuid","type":"string","required":false,"description":"标签uuid"}],"operationId":"api.label.delete_1"}},"/migration/confirm":{"post":{"tags":["migration"],"summary":"确认完成","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"confirmDto","schema":{"$ref":"#/definitions/ConfirmDto"},"required":true,"description":"confirmDto"}],"description":"确认完成","operationId":"api.migration.confirm"}},"/migration/recycle":{"post":{"tags":["migration"],"summary":"回收服务","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"migrationId","type":"integer","format":"int64","required":true,"description":"migrationId"}],"description":"回收服务","operationId":"api.migration.recycle_1"}},"/openapi/endpoints":{"get":{"tags":["openapi"],"summary":"根据serviceName、env、port查询Endpoints","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"type":"array","items":{"$ref":"#/definitions/EndpointsDto"}},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"serviceName","type":"string","required":false,"description":"serviceName"},{"in":"query","name":"env","type":"string","required":false,"description":"env"},{"in":"query","name":"port","type":"string","required":false,"description":"port"}],"description":"根据serviceName、env、port查询Endpoints","operationId":"api.openapi.getEndpoints"},"post":{"tags":["openapi"],"summary":"getEndpoints","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"svcNames","schema":{"type":"array","items":{"type":"string"}},"required":true,"description":"svcNames"},{"in":"query","name":"svcName","type":"string","required":false,"description":"svcName"}],"description":"根据svcName查询Endpoints","operationId":"api.openapi.getEndpoints_3"}},"/quota/usage/check":{"get":{"tags":["serviceQuota"],"summary":"额度用量检查","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"}],"description":"额度用量检查","operationId":"api.quotaUsage.check"}},"/service/quota/top":{"get":{"tags":["serviceQuota"],"summary":"查询服额度用量top","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"startTime","type":"integer","format":"int64","required":true,"description":"startTime"},{"in":"query","name":"endTime","type":"integer","format":"int64","required":true,"description":"endTime"}],"description":"查询服额度用量top","operationId":"api.serviceQuota.top"}},"/ag/domain/redirect":{"get":{"tags":["domain"],"summary":"域名跳转","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":true,"description":"clusterUuid"},{"in":"query","name":"serviceId","type":"string","required":true,"description":"serviceId"},{"in":"query","name":"portTag","type":"string","required":true,"description":"portTag"},{"in":"query","name":"userEmail","type":"string","required":true,"description":"userEmail"}],"description":"域名跳转","operationId":"api.domain.redirect_1"}},"/app/service/status":{"get":{"tags":["service"],"summary":"服务实例状态查询","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务实例uuid"}],"description":"服务实例状态查询","operationId":"api.service.status_1"}},"/container/log/path":{"get":{"tags":["container"],"summary":"查询容器挂载路径","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"},{"in":"query","name":"namespace","type":"string","required":false,"description":"namespace"},{"in":"query","name":"podName","type":"string","required":false,"description":"pod名称"}],"description":"查询容器挂载路径","operationId":"api.container.logpath"}},"/container/log/tail":{"get":{"tags":["container"],"summary":"查询容器挂载路径文件内容","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"nodeIP","type":"string","required":false,"description":"节点IP"},{"in":"query","name":"path","type":"string","required":false,"description":"目录"},{"in":"query","name":"file","type":"string","required":false,"description":"文件名称"},{"in":"query","name":"tailLine","type":"string","required":false,"description":"tail行"},{"in":"query","name":"sinceLine","type":"string","required":false,"description":"since行"}],"description":"查询容器挂载路径文件内容","operationId":"api.container.logtail"}},"/dms/departments/my":{"get":{"tags":["dms"],"summary":"查询当前用户所属部门列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"header","name":"authentication","type":"string","required":false,"description":"用户token"}],"operationId":"api.dms.user-department-list_1"}},"/docker/image/check":{"post":{"tags":["docker"],"summary":"镜像检查","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"checkParams","schema":{"type":"string"},"required":false,"description":"1、clusterUuid：集群uuid；2、image:镜像地址，比如：dev.docker.56qq.cn:5000/dms.56qq.cn:v1"}],"description":"镜像检查","operationId":"api.image.check"}},"/domains/statistics":{"get":{"tags":["domain"],"summary":"域名统计","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"},{"in":"query","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务实例uuid"},{"in":"query","name":"key","type":"string","required":false,"description":"关键字"},{"in":"query","name":"deployType","type":"string","required":false,"description":"部署类型"},{"in":"query","name":"status","type":"string","required":false,"description":"状态"}],"description":"域名统计","operationId":"api.domain.statistics"}},"/kmsecret/available":{"get":{"tags":["kmSecret"],"summary":"根据环境、服务、版本获取可用密钥包","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"env","type":"string","required":true,"description":"使用环境"},{"in":"query","name":"serviceId","type":"string","required":true,"description":"服务名"},{"in":"query","name":"serviceDist","type":"string","required":false,"description":"服务版本"}],"description":"根据环境、服务、版本获取可用密钥包","operationId":"api.kmsecret.get_2"}},"/middleware/catalog":{"get":{"tags":["middleware"],"summary":"查询服务目录","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"}],"description":"查询支持的服务目录","operationId":"api.midware.service.catalog"}},"/migration/services":{"get":{"tags":["migration"],"summary":"查询待迁移服务","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/ResponseOfPageOfMigrationServiceRespDto"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":true,"description":"集群uuid"},{"in":"query","name":"newClusterUuid","type":"string","required":false,"description":"迁移到集群uuid"},{"in":"query","name":"serviceName","type":"string","required":false,"description":"服务名称查询条件"},{"in":"query","name":"env","type":"string","required":false,"description":"环境"},{"in":"query","name":"releaseType","type":"string","required":false,"description":"发布类型"},{"in":"query","name":"serviceType","type":"integer","format":"int32","required":false,"description":"服务类型"},{"in":"query","name":"source","type":"integer","format":"int32","required":false,"description":"服务来源"},{"in":"query","name":"status","type":"integer","format":"int32","required":false,"description":"服务状态"},{"in":"query","name":"asc","type":"boolean","required":false,"description":"容器升序true，降序false"},{"in":"query","name":"node","type":"string","required":false,"description":"查询节点，All不传"},{"in":"query","name":"pn","type":"integer","format":"int32","required":true,"description":"当前页"},{"in":"query","name":"ps","type":"integer","format":"int32","required":true,"description":"分页大小"}],"operationId":"api.migration.get_3"}},"/newton/auth/append":{"post":{"tags":["kmSecret"],"summary":"append服务授权","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"kmNewtonSecretDto","schema":{"$ref":"#/definitions/KmNewtonSecretDto"},"required":true,"description":"kmNewtonSecretDto"}],"description":"append服务授权","operationId":"api.newton.auth.append_1"}},"/newton/auth/remove":{"post":{"tags":["kmSecret"],"summary":"擦除服务授权","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"kmNewtonSecretDto","schema":{"$ref":"#/definitions/KmNewtonSecretDto"},"required":true,"description":"kmNewtonSecretDto"}],"description":"擦除服务授权","operationId":"api.newton.auth.remove"}},"/openapi/serviceSla":{"get":{"tags":["openapi"],"summary":"服务SLA计算,1min","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":false,"description":"node节点ID"},{"in":"query","name":"delayMinute","type":"integer","format":"int32","required":false,"description":"监控时间，分钟"}],"description":"服务SLA计算","operationId":"api.openapi.serviceSla"}},"/service/quota/init":{"get":{"tags":["serviceQuota"],"summary":"初始化服务额度","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"}],"description":"初始化服务额度","operationId":"api.serviceQuota.init_1"}},"/auditlogs/eventtype":{"get":{"tags":["log"],"summary":"获取审计日志事件类型","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"}],"description":"获取日志的事件类型","operationId":"api.auditlog.eventtype"}},"/autoscale/algorithm":{"get":{"tags":["autoscale"],"summary":"查询自动扩缩容算法","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"}],"description":"查询自动扩缩容算法","operationId":"api.autoscale.algorithm.list_1"}},"/container/log/files":{"get":{"tags":["container"],"summary":"查询容器挂载路径文件列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"nodeIP","type":"string","required":false,"description":"节点IP"},{"in":"query","name":"path","type":"string","required":false,"description":"路径"}],"description":"查询容器挂载路径文件列表","operationId":"api.container.logfile"}},"/container/snapshots":{"get":{"tags":["container"],"summary":"查询服务容器快照列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"buildId","type":"string","required":false},{"in":"query","name":"containerId","type":"string","required":false},{"in":"query","name":"clusterUuid","type":"string","required":false},{"in":"query","name":"deployType","type":"string","required":false},{"in":"query","name":"deploymentId","type":"string","required":false},{"in":"query","name":"appInstanceUuid","type":"string","required":false},{"in":"query","name":"serviceInstanceUuid","type":"string","required":false},{"in":"query","name":"appName","type":"string","required":false},{"in":"query","name":"serviceName","type":"string","required":false},{"in":"query","name":"podName","type":"string","required":false},{"in":"query","name":"status","type":"string","required":false},{"in":"query","name":"image","type":"string","required":false},{"in":"query","name":"version","type":"string","required":false},{"in":"query","name":"group","type":"string","required":false},{"in":"query","name":"beginTime","type":"string","required":false},{"in":"query","name":"endTime","type":"string","required":false},{"in":"query","name":"keyword","type":"string","required":false},{"in":"query","name":"datas","type":"array","items":{"type":"object"},"required":false,"collectionFormat":"multi"},{"in":"query","name":"conditions","type":"object","required":false},{"in":"query","name":"total","type":"integer","format":"int32","required":false},{"in":"query","name":"stats","type":"object","required":false},{"in":"path","name":"serviceContainerCondition","type":"ref","required":false,"description":"服务实例查询条件"},{"in":"query","name":"pn","type":"string","required":false,"description":"页数"},{"in":"query","name":"ps","type":"string","required":false,"description":"条数"}],"description":"根据条件查询容器快照","operationId":"api.container.snapshots"}},"/kmkey/auto/generate":{"post":{"tags":["kmKey"],"summary":"服务密钥对自动生成","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"autoGenKeyPairsDto","schema":{"$ref":"#/definitions/AutoGenKeyPairsDto"},"required":true,"description":"autoGenKeyPairsDto"}],"description":"服务密钥对自动生成","operationId":"api.kmkey.auto.generate_1"}},"/middleware/instance":{"get":{"tags":["middleware"],"summary":"获取一个中间件服务实例","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"instanceId","type":"string","required":true,"description":"instanceId"}],"description":"获取一个中间件服务实例","operationId":"api.midware.service.get"},"put":{"tags":["middleware"],"summary":"创建中间件服务实例","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"param","schema":{"$ref":"#/definitions/MidwareServiceInstanceParam"},"required":true,"description":"param"}],"description":"创建中间件服务实例","operationId":"api.midware.service.create_1"},"patch":{"tags":["middleware"],"summary":"更新中间件服务实例","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"instanceId","type":"string","required":true,"description":"instanceId"},{"in":"body","name":"param","schema":{"$ref":"#/definitions/MidwareServiceInstanceParam"},"required":true,"description":"param"}],"description":"更新中间件服务实例","operationId":"api.midware.service.update"},"delete":{"tags":["middleware"],"summary":"删除中间件服务实例","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"instanceId","type":"string","required":true,"description":"instanceId"}],"description":"删除中间件服务实例","operationId":"api.midware.service.delete_1"}},"/openapi/cluster/get":{"get":{"tags":["openapi"],"summary":"根据k8s api地址查询集群","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":true,"description":"clusterUuid"}],"description":"根据k8s api地址查询集群","operationId":"api.openapi.cluster.get_1"}},"/openapi/healthCheck":{"get":{"tags":["openapi"],"summary":"服务健康检查","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务uuid"},{"in":"query","name":"checkApi","type":"string","required":false,"description":"检查api路径，get请求路径"}],"description":"健康检查","operationId":"api.openapi.healthCheck_1"}},"/service/flow/record":{"get":{"tags":["service"],"summary":"根据集群、服务名、环境查看服务流程操作历史","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":true,"description":"clusterUuid"},{"in":"query","name":"serviceName","type":"string","required":true,"description":"serviceName"},{"in":"query","name":"env","type":"string","required":true,"description":"env"}],"description":"根据集群、服务名、环境查看服务流程操作历史","operationId":"api.service.flow.history_1"}},"/services/listByName":{"get":{"tags":["service"],"summary":"服务详情查看服务列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"serviceName","type":"string","required":true,"description":"serviceName"},{"in":"query","name":"env","type":"string","required":true,"description":"env"}],"description":"根据条件查询服务实例列表","operationId":"api.service.listByName"}},"/app/services/release":{"get":{"tags":["serviceOperation"],"summary":"服务发布","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"opTypelist","type":"array","items":{"type":"integer","format":"int32"},"required":false,"collectionFormat":"multi"},{"in":"query","name":"serviceName","type":"string","required":false},{"in":"query","name":"opType","type":"integer","format":"int32","required":false},{"in":"query","name":"deployType","type":"string","required":false},{"in":"query","name":"status","type":"integer","format":"int32","required":false},{"in":"query","name":"createdUser","type":"string","required":false},{"in":"query","name":"beginTime","type":"string","required":false},{"in":"query","name":"endTime","type":"string","required":false},{"in":"query","name":"clusterUuid","type":"string","required":false},{"in":"query","name":"datas","type":"array","items":{"type":"object"},"required":false,"collectionFormat":"multi"},{"in":"query","name":"conditions","type":"object","required":false},{"in":"query","name":"total","type":"integer","format":"int32","required":false},{"in":"query","name":"stats","type":"object","required":false},{"in":"path","name":"ServiceOpCondition","type":"ref","required":false,"description":"服务发布统计查询条件"},{"in":"query","name":"pn","type":"string","required":false,"description":"页数"},{"in":"query","name":"ps","type":"string","required":false,"description":"条数"}],"description":"服务发布","operationId":"api.service.release.info_1"}},"/kmkey/query/services":{"get":{"tags":["kmKey"],"summary":"根据环境、Key类型查询服务","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"env","type":"string","required":true,"description":"环境"},{"in":"query","name":"keyType","type":"integer","format":"int32","required":true,"description":"Key类型"}],"description":"根据环境、Key类型查询服务","operationId":"api.kmkey.query_3"}},"/middleware/instances":{"get":{"tags":["middleware"],"summary":"查询中间件服务实例","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"serviceName","type":"string","required":false,"description":"serviceName"},{"in":"query","name":"serviceVersion","type":"string","required":false,"description":"serviceVersion"},{"in":"query","name":"status","type":"string","required":false,"description":"status"},{"in":"query","name":"description","type":"string","required":false,"description":"description"},{"in":"query","name":"pn","type":"integer","format":"int32","required":true,"description":"pn"},{"in":"query","name":"ps","type":"integer","format":"int32","required":true,"description":"ps"}],"description":"查询中间件服务实例","operationId":"api.midware.service.list"}},"/newton/secret/update":{"post":{"tags":["kmSecret"],"summary":"自动更新密钥","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"kmNewtonSecretDto","schema":{"$ref":"#/definitions/KmNewtonSecretDto"},"required":true,"description":"kmNewtonSecretDto"}],"description":"自动更新密钥","operationId":"api.newton.secret.update_1"}},"/openapi/archive/meta":{"post":{"tags":["openapi"],"summary":"updateArchivedFilesMetaData","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"archiveData","schema":{"$ref":"#/definitions/ArchiveData"},"required":true,"description":"archiveData"}],"description":"入库归档记录","operationId":"api.archive.service.metas_2"}},"/app/{appInstanceUuid}":{"get":{"tags":["app"],"summary":"获取应用详情","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"}],"description":"获取指定的uuid的应用实例","operationId":"api.app.detail_1"},"put":{"tags":["app"],"summary":"修改应用","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"appInstance","schema":{"$ref":"#/definitions/AppInstance"},"required":false,"description":"应用实例"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"}],"description":"根据metadata修改应用实例","operationId":"api.app.update_1"},"delete":{"tags":["app"],"summary":"删除应用","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"}],"description":"删除指定的uuid的应用实例","operationId":"api.app.delete"}},"/apps/status/statistic":{"get":{"tags":["app"],"summary":"应用状态统计","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"},{"in":"query","name":"status","type":"string","required":false,"description":"状态"},{"in":"query","name":"appName","type":"string","required":false,"description":"应用名称"},{"in":"query","name":"deployType","type":"string","required":false,"description":"部署类型"},{"in":"query","name":"createUser","type":"string","required":false,"description":"创建人"},{"in":"body","name":"appInstanceCondition","schema":{"$ref":"#/definitions/com.wlqq.cloud.api.dto.condition.AppInstanceCondition"},"required":false,"description":"应用状态"}],"description":"应用实例状态统计","operationId":"api.app.status-statistics"}},"/archive/service/files":{"get":{"tags":["archive"],"summary":"查询服务归档文件列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"},{"in":"query","name":"serviceId","type":"string","required":true,"description":"服务名称"},{"in":"query","name":"serviceVersion","type":"string","required":false,"description":"服务版本"},{"in":"query","name":"archiveType","type":"string","required":false,"description":"文件归档类型"},{"in":"query","name":"namespace","type":"string","required":false,"description":"环境类型"},{"in":"query","name":"beginDate","type":"string","required":true,"description":"开始日期"},{"in":"query","name":"endDate","type":"string","required":true,"description":"结束日期"}],"description":"根据服务信息查询服务归档的文件列表","operationId":"api.archive.services"}},"/cluster/{clusterUuid}":{"get":{"tags":["cluster"],"summary":"查看集群详情","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"}],"description":"根据集群uuid查询集群详情","operationId":"api.cluster.detail_1"},"put":{"tags":["cluster"],"summary":"修改集群","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"cluster","schema":{"$ref":"#/definitions/Cluster"},"required":false,"description":"集群"},{"in":"path","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"}],"operationId":"api.cluster.update"},"delete":{"tags":["cluster"],"summary":"删除集群","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"}],"description":"删除指定的uuid的集群","operationId":"api.cluster.delete"}},"/containers/statistics":{"get":{"tags":["container"],"summary":"查询容器统计信息","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"},{"in":"query","name":"deployType","type":"string","required":false,"description":"部署类型"}],"description":"查询容器统计信息","operationId":"api.container.statistics"}},"/openapi/secrets/query":{"get":{"tags":["openapi"],"summary":"查询指定服务版本secrets信息","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"serviceId","type":"string","required":true,"description":"serviceId"},{"in":"query","name":"serviceDist","type":"string","required":true,"description":"serviceDist"}],"description":"查询指定服务版本secrets信息","operationId":"api.openapi.secrets_1"}},"/archive/services/limit":{"get":{"tags":["archive"],"summary":"查询归档服务归档额度","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"serviceName","type":"string","required":false,"description":"服务名称"},{"in":"query","name":"archiveEnabled","type":"boolean","required":false,"description":"是否开启归档"},{"in":"query","name":"pn","type":"string","required":false,"description":"页数"},{"in":"query","name":"ps","type":"string","required":false,"description":"条数"}],"description":"根据服务信息查询服务归档的额度信息","operationId":"api.archive.limit"},"put":{"tags":["archive"],"summary":"修改归档服务归档额度","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"serviceMetaModifyDto","schema":{"$ref":"#/definitions/ServiceMetaModifyDto"},"required":true,"description":"serviceMetaModifyDto"}],"description":"根据服务Id修改服务归档的额度信息","operationId":"api.archive.limit_2"}},"/service/quota/overview":{"get":{"tags":["serviceQuota"],"summary":"分区额度用量统计","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"}],"description":"分区额度用量统计","operationId":"api.serviceQuota.overview"}},"/migration/trafficSwitch":{"post":{"tags":["migration"],"summary":"迁移任务切换流量","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"migrationId","type":"integer","format":"int64","required":true,"description":"migrationId"}],"description":"迁移任务切换流量","operationId":"api.migration.traffic.switch_1"}},"/openapi/syncArchiveMeta":{"get":{"tags":["openapi"],"summary":"syncArchiveMeta","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"}],"operationId":"syncArchiveMetaUsingGET"}},"/openapi/syncServiceMeta":{"get":{"tags":["openapi"],"summary":"syncServiceInstanceToServiceMeta","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"justNewtonService","type":"boolean","required":false,"description":"justNewtonService"}],"operationId":"syncServiceInstanceToServiceMetaUsingGET_1"}},"/app/service/releasetypes":{"get":{"tags":["service"],"summary":"服务实例中的所有发布类型","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"}],"description":"服务实例中的所有发布类型","operationId":"api.service.release-types_1"}},"/archive/package/download":{"get":{"tags":["archive"],"summary":"下载压缩包文件包","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"zipFileId","type":"string","required":true,"description":"归档包id"},{"in":"query","name":"archiveDate","type":"string","required":true,"description":"归档日期"}],"description":"根据归档id下载服务归档包","operationId":"api.archive.service.files"}},"/archive/service/dayfiles":{"get":{"tags":["archive"],"summary":"查询压缩包文件列表详情","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"zipFileId","type":"string","required":true,"description":"归档包id"},{"in":"query","name":"archiveDate","type":"string","required":true,"description":"归档日期"}],"description":"根据归档id查询服务归档包的列表","operationId":"api.archive.service.files_2"}},"/openapi/domain/endpoints":{"get":{"tags":["openapi"],"summary":"根据domain、port查询Endpoints","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"type":"array","items":{"$ref":"#/definitions/EndpointsDto"}},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"domain","type":"string","required":true,"description":"domain"},{"in":"query","name":"port","type":"string","required":true,"description":"port"}],"description":"根据domain、port查询Endpoints","operationId":"api.openapi.domain.endpoints"}},"/openapi/instances/status":{"get":{"tags":["openapi"],"summary":"查询服务实例信息(newton)","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"deployId","type":"string","required":true,"description":"deployId"}],"description":"根据部署Id查询服务实例信息，endpoints","operationId":"api.instance.status_1"}},"/openapi/sync/albertEvent":{"get":{"tags":["openapi"],"summary":"albert事件同步,2min","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"}],"description":"albert事件同步","operationId":"api.openapi.sync.albertEvent"}},"/services/archive/enabled":{"put":{"tags":["archive"],"summary":"开启、关闭服务归档","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"serviceMetaModifyDto","schema":{"$ref":"#/definitions/ServiceMetaModifyDto"},"required":true,"description":"serviceMetaModifyDto"}],"description":"根据服务Id开启、关闭服务归档","operationId":"api.archive.enabled_1"}},"/openapi/cluster/nodeCheck":{"get":{"tags":["openapi"],"summary":"集群环境节点状态检查埋点","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":false,"description":"clusterUuid"}],"description":"集群环境节点状态检查埋点","operationId":"api.openapi.node.status"}},"/openapi/service/endpoints":{"get":{"tags":["openapi"],"summary":"根据serviceName、serviceVersion、deployType、port、domainStatus查询serviceEndpoints,domainStatus参数可选值: 1-未注册, 2-已绑定, 3-未绑定, 4-已灰度","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":false,"description":"clusterUuid"},{"in":"query","name":"clusterName","type":"string","required":false,"description":"clusterName"},{"in":"query","name":"serviceName","type":"string","required":true,"description":"serviceName"},{"in":"query","name":"serviceVersion","type":"string","required":false,"description":"serviceVersion"},{"in":"query","name":"deployType","type":"string","required":true,"description":"deployType"},{"in":"query","name":"domain","type":"string","required":true,"description":"domain"},{"in":"query","name":"domainStatus","type":"integer","format":"int32","required":true,"description":"domainStatus"},{"in":"query","name":"port","type":"string","required":true,"description":"port"},{"in":"query","name":"source","type":"string","required":false,"description":"source"}],"description":"查询serviceEndpoints","operationId":"api.openapi.serviceEndpoints"}},"/openapi/service/statistic":{"get":{"tags":["openapi"],"summary":"serviceStatistic","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"startTime","type":"string","required":false,"description":"startTime"},{"in":"query","name":"endTime","type":"string","required":false,"description":"endTime"},{"in":"query","name":"env","type":"string","required":true,"description":"env"}],"description":"周报统计","operationId":"api.service.statistic"}},"/openapi/sync/monitorCount":{"get":{"tags":["openapi"],"summary":"监控数量同步,5min","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"}],"description":"监控数量同步","operationId":"api.openapi.sync.monitorCount"}},"/services/internal/operate":{"post":{"tags":["service"],"summary":"处理指定域名状态服务","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"serviceOperationAsConditionDto","schema":{"$ref":"#/definitions/ServiceOperationAsConditionDto"},"required":true,"description":"serviceOperationAsConditionDto"}],"description":"处理指定域名状态服务","operationId":"api.service.deal"}},"/app/{appInstanceUuid}/stop":{"post":{"tags":["app"],"summary":"停止应用","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"}],"description":"停止应用实例","operationId":"api.app.stop_1"}},"/middleware/instance/detail":{"get":{"tags":["middleware"],"summary":"根据服务实例ID查询服务详情","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"instanceId","type":"string","required":true,"description":"instanceId"}],"description":"根据服务实例ID查询服务详情","operationId":"api.midware.service.detail.get_1"}},"/middleware/instance/status":{"get":{"tags":["middleware"],"summary":"查询中间件服务实例状态","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"instanceId","type":"string","required":true,"description":"instanceId"}],"description":"查询中间件服务实例状态","operationId":"api.midware.service.get.status_1"}},"/middleware/instances/query":{"get":{"tags":["middleware"],"summary":"根据服务名查询所有可用中间件服务实例","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"serviceName","type":"string","required":true,"description":"serviceName"},{"in":"query","name":"serviceVersion","type":"string","required":false,"description":"serviceVersion"}],"description":"根据服务名查询所有可用中间件服务实例","operationId":"api.midware.service.list_3"}},"/openapi/sync/serviceStatus":{"get":{"tags":["openapi"],"summary":"服务状态同步,2min","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":false,"description":"clusterUuid"}],"description":"服务状态同步","operationId":"api.openapi.sync.serviceStatus_1"}},"/service/flow/record/byuuid":{"get":{"tags":["service"],"summary":"根据服务uuid查看服务流程操作历史","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"serviceInstanceUuid","type":"string","required":true,"description":"serviceInstanceUuid"}],"description":"根据服务uuid查看服务流程操作历史","operationId":"api.service.flow.history.byuuid"}},"/app/{appInstanceUuid}/start":{"post":{"tags":["app"],"summary":"启动应用","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"}],"description":"启动应用实例","operationId":"api.app.start_1"}},"/cluster/{clusterUuid}/nodes":{"get":{"tags":["cluster"],"summary":"查询指定集群及标签的主机数","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"},{"in":"query","name":"nodeName","type":"string","required":false,"description":"节点名"},{"in":"query","name":"labels","type":"string","required":false,"description":"标签1,标签2,标签3"}],"operationId":"api.cluster.node-num"}},"/openapi/cluster/healthCheck":{"get":{"tags":["openapi"],"summary":"集群环境健康检查","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"clusterUuid","type":"string","required":false,"description":"clusterUuid"}],"description":"集群环境健康检查","operationId":"api.openapi.health.check"}},"/cluster/{clusterUuid}/labels":{"get":{"tags":["cluster"],"summary":"查询集群标签","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"clusterUuid","type":"string","required":true,"description":"clusterUuid"}],"operationId":"api.cluster.label_1"},"post":{"tags":["cluster"],"summary":"设置集群标签","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"clusterUuid","type":"string","required":true,"description":"clusterUuid"},{"in":"body","name":"labelUuids","schema":{"type":"array","items":{"type":"string"}},"required":true,"description":"labelUuids"}],"operationId":"api.cluster.label_2"}},"/middleware/service_name/list":{"get":{"tags":["middleware"],"summary":"查询已经存在服务名称","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"}],"description":"查询已经存在服务名称","operationId":"api.midware.service.name.list_1"}},"/app/services/status/statistic":{"get":{"tags":["service"],"summary":"服务实例状态统计","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"businessId","type":"string","required":false},{"in":"query","name":"key","type":"string","required":false},{"in":"query","name":"status","type":"string","required":false},{"in":"query","name":"clusterUuid","type":"string","required":false},{"in":"query","name":"deployType","type":"string","required":false},{"in":"query","name":"releaseType","type":"string","required":false},{"in":"query","name":"serviceType","type":"string","required":false},{"in":"query","name":"serviceName","type":"string","required":false},{"in":"query","name":"source","type":"integer","format":"int32","required":false},{"in":"body","name":"serviceInstanceCondition","schema":{"$ref":"#/definitions/com.wlqq.cloud.api.dto.condition.ServiceInstanceCondition"},"required":false,"description":"服务状态查询对象"}],"description":"服务实例状态统计","operationId":"api.service.status-statistics"}},"/app/{appInstanceUuid}/restart":{"post":{"tags":["app"],"summary":"重启应用","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"}],"description":"重启应用实例","operationId":"api.app.restart_1"}},"/cluster/{clusterUuid}/permits":{"get":{"tags":["cluster"],"summary":"获取业务线集群权限","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"clusterUuid","type":"string","required":true,"description":"clusterUuid"}],"operationId":"api.cluster.permit.get_1"},"post":{"tags":["cluster"],"summary":"设置业务线集群权限","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"clusterUuid","type":"string","required":true,"description":"clusterUuid"},{"in":"body","name":"clusterPermits","schema":{"type":"array","items":{"$ref":"#/definitions/DmsDepartmentVo"}},"required":true,"description":"clusterPermits"}],"operationId":"api.cluster.permit.post"}},"/openapi/archive/service/metas":{"get":{"tags":["openapi"],"summary":"获取开启归档服务serviceId列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"}],"description":"获取开启归档服务serviceId列表","operationId":"api.archive.service.metas"}},"/openapi/hooke/traceBydeployId":{"get":{"tags":["openapi"],"summary":"通过hooke部署id查询日志","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"deployId","type":"string","required":true,"description":"deployId"}],"description":"通过hooke部署id查询日志","operationId":"api.openapi.hooke.trace_1"}},"/app/{appInstanceUuid}/editable":{"get":{"tags":["app"],"summary":"查询应用实例是否可以编辑","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"}],"description":"查询指定的uuid的应用实例是否可以编辑","operationId":"api.app.edit-check_1"}},"/app/{appInstanceUuid}/services":{"get":{"tags":["service"],"summary":"查看应用服务列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"datas","type":"array","items":{"type":"object"},"required":false,"collectionFormat":"multi"},{"in":"query","name":"pn","type":"integer","format":"int32","required":false},{"in":"query","name":"ps","type":"integer","format":"int32","required":false},{"in":"query","name":"conditions","type":"object","required":false},{"in":"query","name":"total","type":"integer","format":"int32","required":false},{"in":"query","name":"stats","type":"object","required":false},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"}],"description":"根据条件查询指定应用的服务实例列表","operationId":"api.app.services-list"},"post":{"tags":["service"],"summary":"创建服务","consumes":["application/json"],"produces":["*/*"],"responses":{"201":{"schema":{"$ref":"#/definitions/Response"},"description":"Created"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"serviceInstanceDto","schema":{"$ref":"#/definitions/ServiceInstanceDto"},"required":true,"description":"serviceInstanceDto"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"}],"description":"在应用中添加一个服务实例","operationId":"api.service.create_1"}},"/app/services/release/statistics":{"get":{"tags":["serviceOperation"],"summary":"服务发布统计","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"opTypelist","type":"array","items":{"type":"integer","format":"int32"},"required":false,"collectionFormat":"multi"},{"in":"query","name":"serviceName","type":"string","required":false},{"in":"query","name":"opType","type":"integer","format":"int32","required":false},{"in":"query","name":"deployType","type":"string","required":false},{"in":"query","name":"status","type":"integer","format":"int32","required":false},{"in":"query","name":"createdUser","type":"string","required":false},{"in":"query","name":"beginTime","type":"string","required":false},{"in":"query","name":"endTime","type":"string","required":false},{"in":"query","name":"clusterUuid","type":"string","required":false},{"in":"path","name":"ServiceOpCondition","type":"ref","required":false,"description":"服务发布统计查询条件"}],"description":"服务发布统计","operationId":"api.service.release.statistics"}},"/middleware/service_version/list":{"get":{"tags":["middleware"],"summary":"查询已经存在服务版本","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"serviceName","type":"string","required":false,"description":"serviceName"}],"description":"查询已经存在服务版本","operationId":"api.midware.service.version.list_1"}},"/openapi/hooke/traceByInstanceId":{"get":{"tags":["openapi"],"summary":"通过instanceId查询记录信息","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"instanceId","type":"string","required":true,"description":"instanceId"},{"in":"query","name":"env","type":"string","required":true,"description":"env"}],"description":"通过instanceId查询记录信息","operationId":"api.openapi.hooke.trace_2"}},"/cluster/{clusterUuid}/namespaces":{"get":{"tags":["cluster"],"summary":"查询集群namespaces信息","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"}],"operationId":"api.cluster.namespace"}},"/ci/undeploy/{serviceInstanceUuid}":{"post":{"tags":["ci"],"summary":"解除部署接口","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"serviceInstanceUuid","type":"string","required":true,"description":"serviceInstanceUuid"}],"description":"解除部署接口","operationId":"api.ci.undeploy_1"}},"/dms/manages/release/autodeploy/v2":{"post":{"tags":["dms"],"summary":"自动部署","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"dmsAutoDeployDto","schema":{"$ref":"#/definitions/dmsAutoDeployDto"},"required":false,"description":"自动部署单(v2)"}],"description":"自动部署","operationId":"api.dms.autodeploy.v2_1"}},"/cluster/{clusterUuid}/docker/repos":{"get":{"tags":["docker"],"summary":"查询docker仓库列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"datas","type":"array","items":{"type":"object"},"required":false,"collectionFormat":"multi"},{"in":"query","name":"conditions","type":"object","required":false},{"in":"query","name":"total","type":"integer","format":"int32","required":false},{"in":"query","name":"stats","type":"object","required":false},{"in":"path","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"},{"in":"query","name":"pn","type":"string","required":false,"description":"页数"},{"in":"query","name":"ps","type":"string","required":false,"description":"条数"}],"description":"查询指定集群下的docker仓库列表","operationId":"api.dockerrepos.list"},"post":{"tags":["docker"],"summary":"创建docker仓库","consumes":["application/json"],"produces":["*/*"],"responses":{"201":{"schema":{"$ref":"#/definitions/Response"},"description":"Created"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"},{"in":"body","name":"dockerRepo","schema":{"$ref":"#/definitions/com.wlqq.cloud.api.domain.DockerRepo"},"required":false,"description":"docker仓库信息"}],"description":"在指定集群下创建docker仓库","operationId":"api.dockerrepos.create"}},"/app/{appInstanceUuid}/container/log":{"get":{"tags":["container"],"summary":"查询容器日志","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"serviceInstanceUuid","type":"string","required":false,"description":"serviceInstanceUuid"},{"in":"query","name":"appInstanceUuid","type":"string","required":false,"description":"应用uuid"},{"in":"query","name":"podName","type":"string","required":false,"description":"pod名称"},{"in":"query","name":"containerName","type":"string","required":false,"description":"容器名称"},{"in":"query","name":"tailLine","type":"string","required":false,"description":"tail行"}],"description":"查询容器日志","operationId":"api.container.logs_1"}},"/openapi/middleware/endpoints/inject":{"post":{"tags":["openapi"],"summary":"中间件实例endpoints注入","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"injectMeta","schema":{"$ref":"#/definitions/InjectMeta"},"required":true,"description":"injectMeta"}],"description":"中间件实例endpoints注入","operationId":"api.middleware.endpoints.inject"}},"/ci/deploy/status/{serviceInstanceUuid}":{"post":{"tags":["ci"],"summary":"op查询部署状态","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"serviceInstanceUuid","type":"string","required":true,"description":"serviceInstanceUuid"}],"description":"op查询部署状态","operationId":"api.op.status"}},"/app/services/{serviceInstanceUuid}/event":{"get":{"tags":["service"],"summary":"服务事件列表","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务实例uuid"}],"description":"查询服务k8s事件","operationId":"api.service.event-list_1"}},"/cluster/{clusterUuid}/nodes/{nodeName}/path":{"get":{"tags":["cluster"],"summary":"查询集群主机详情","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"},{"in":"path","name":"nodeName","type":"string","required":false,"description":"节点名字"}],"operationId":"api.cluster.node-detail"}},"/app/service/{serviceInstanceUuid}/autoscale/up":{"post":{"tags":["autoscale"],"summary":"自动扩容回调","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务实例uuid"}],"description":"自动扩容回调","operationId":"api.autoscale.callback.up"}},"/cluster/{clusterUuid}/nodes/{nodeName}/grafana":{"get":{"tags":["cluster"],"summary":"查询指定集群主机的grafana地址","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"},{"in":"path","name":"nodeName","type":"string","required":false,"description":"节点名"}],"operationId":"api.cluster.node.grafana_url"}},"/cluster/{clusterUuid}/docker/repo/{dockerRepoUuid}":{"put":{"tags":["docker"],"summary":"更新docker仓库","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"dockerRepo","schema":{"$ref":"#/definitions/DockerRepo"},"required":false,"description":"docker仓库更新信息"},{"in":"path","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"},{"in":"path","name":"dockerRepoUuid","type":"string","required":false,"description":"docker仓库uuid"}],"description":"更新指定集群下的docker仓库","operationId":"api.dockerrepos.update_1"},"delete":{"tags":["docker"],"summary":"删除docker仓库","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"},{"in":"path","name":"dockerRepoUuid","type":"string","required":false,"description":"docker仓库uuid"}],"description":"删除指定集群下的指定uuid的docker仓库","operationId":"api.dockerrepos.delete_1"}},"/app/{appInstanceUuid}/service/{serviceInstanceUuid}":{"get":{"tags":["service"],"summary":"查看服务详情","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"},{"in":"path","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务实例uuid"}],"description":"获取指定的uuid的服务实例","operationId":"api.service.detail_1"},"put":{"tags":["service"],"summary":"修改服务","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"serviceInstanceDto","schema":{"$ref":"#/definitions/ServiceInstanceDto"},"required":true,"description":"serviceInstanceDto"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"},{"in":"path","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务实例uuid"}],"description":"根据metadata修改服务实例","operationId":"api.service.update_1"},"delete":{"tags":["service"],"summary":"删除服务","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"},{"in":"path","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务实例uuid"}],"description":"删除指定的uuid的服务实例","operationId":"api.service.delete_1"}},"/app/{appInstanceUuid}/service/{serviceInstanceUuid}/copy":{"post":{"tags":["service"],"summary":"服务复制操作","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"copyServiceInstanceDto","schema":{"$ref":"#/definitions/CopyServiceInstanceDto"},"required":true,"description":"copyServiceInstanceDto"},{"in":"query","name":"destClusterUuid","type":"string","required":false,"description":"destClusterUuid"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"},{"in":"path","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务实例uuid"}],"description":"服务复制操作","operationId":"api.service.copy"}},"/app/{appInstanceUuid}/service/{serviceInstanceUuid}/stop":{"post":{"tags":["service"],"summary":"停止服务","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"},{"in":"path","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务实例uuid"}],"description":"停止服务实例","operationId":"api.service.stop"}},"/app/{appInstanceUuid}/service/{serviceInstanceUuid}/start":{"post":{"tags":["service"],"summary":"启动服务","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"},{"in":"path","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务实例uuid"}],"description":"启动服务实例","operationId":"api.service.start"}},"/app/{appInstanceUuid}/service/{serviceInstanceUuid}/deploy":{"post":{"tags":["service"],"summary":"部署服务","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"},{"in":"path","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务实例uuid"}],"description":"部署服务实例到k8s","operationId":"api.service.deploy_1"}},"/app/{appInstanceUuid}/service/{serviceInstanceUuid}/update":{"get":{"tags":["service"],"summary":"服务升级记录","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"},{"in":"path","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务实例uuid"}],"description":"服务升级记录","operationId":"api.service.upgrade.info_1"},"post":{"tags":["service"],"summary":"服务立即升级","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"serviceInstance","schema":{"$ref":"#/definitions/ServiceInstance"},"required":false,"description":"服务实例"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"},{"in":"path","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务实例uuid"}],"description":"服务立即升级","operationId":"api.service.upgrade"}},"/app/{appInstanceUuid}/service/{serviceInstanceUuid}/restart":{"post":{"tags":["service"],"summary":"重启服务","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"},{"in":"path","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务实例uuid"}],"description":"重启服务实例","operationId":"api.service.restart"}},"/app/{appInstanceUuid}/service/{serviceInstanceUuid}/bgupdate":{"post":{"tags":["service"],"summary":"服务蓝绿升级","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"serviceInstance","schema":{"$ref":"#/definitions/ServiceInstance"},"required":false,"description":"服务实例"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"},{"in":"path","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务实例uuid"}],"description":"服务蓝绿升级","operationId":"api.service.blue.green.upgrade_1"}},"/app/{appInstanceUuid}/service/{serviceInstanceUuid}/redeploy":{"post":{"tags":["service"],"summary":"重新部署服务","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"header","name":"authentication","type":"string","required":false,"description":"认证信息: {\"token\":\"53718b8f-0975-4203-8617-f950ace36ec4\",\"username\":\"yuwen.wang@56qq.com\",\"name\":\"%E7%8E%8B%E7%8E%89%E7%A8%B3\"}"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"},{"in":"path","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务实例uuid"}],"description":"重新部署服务实例到k8s","operationId":"api.service.redeploy"}},"/app/{appInstanceUuid}/service/{serviceInstanceUuid}/rollback":{"post":{"tags":["service"],"summary":"服务回滚","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"serviceInstance","schema":{"$ref":"#/definitions/ServiceInstance"},"required":false,"description":"服务实例"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"},{"in":"path","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务实例uuid"}],"description":"服务回滚","operationId":"api.service.rollback"}},"/cluster/{clusterUuid}/node/{nodeName}/label/{labelType}/path":{"post":{"tags":["cluster"],"summary":"添加集群主机标签","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"},{"in":"path","name":"nodeName","type":"string","required":false,"description":"节点名字"},{"in":"path","name":"labelType","type":"string","required":false,"description":"标签类型"}],"operationId":"api.cluster.add-node-label_1"},"delete":{"tags":["cluster"],"summary":"删除集群主机标签","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"clusterUuid","type":"string","required":false,"description":"集群uuid"},{"in":"path","name":"nodeName","type":"string","required":false,"description":"节点名字"},{"in":"path","name":"labelType","type":"string","required":false,"description":"标签类型"}],"operationId":"api.cluster.delete-node-label_1"}},"/app/{appInstanceUuid}/service/{serviceInstanceUuid}/autoscale":{"put":{"tags":["autoscale"],"summary":"更新自动扩缩容配置","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"body","name":"autoScaleMetadata","schema":{"$ref":"#/definitions/AutoScaleMetadata"},"required":false,"description":"告警配置策略"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"},{"in":"path","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务实例uuid"}],"description":"更新自动扩缩容配置","operationId":"api.autoscale.algorithm.update_1"}},"/app/{appInstanceUuid}/service/{serviceInstanceUuid}/setDefault":{"get":{"tags":["service"],"summary":"服务设为主实例","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"query","name":"portTag","type":"string","required":true,"description":"portTag"},{"in":"query","name":"hostPort","type":"string","required":false,"description":"hostPort"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"},{"in":"path","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务实例uuid"},{"in":"path","name":"port","type":"string","required":false,"description":"设置主实例端口"}],"description":"服务设为主实例","operationId":"api.service.setdefault_1"}},"/app/{appInstanceUuid}/service/{serviceInstanceUuid}/scale/{replicas}":{"post":{"tags":["service"],"summary":"服务扩缩容","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用实例uuid"},{"in":"path","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务实例uuid"},{"in":"path","name":"replicas","type":"string","required":false,"description":"扩缩容数目"}],"operationId":"api.service.scale_1"}},"/app/{appInstanceUuid}/service/{serviceInstanceUuid}/podName/{podName}/container":{"put":{"tags":["container"],"summary":"容器重新部署","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"appInstanceUuid","type":"string","required":false,"description":"应用uuid"},{"in":"path","name":"serviceInstanceUuid","type":"string","required":false,"description":"服务id"},{"in":"path","name":"podName","type":"string","required":false,"description":"pod名称"}],"description":"容器重新部署","operationId":"api.container.redeploy_1"}},"/app/{appInstanceUuid}/service/{serviceInstanceUuid}/domain/{domainUuid}/register":{"post":{"tags":["domain"],"summary":"域名注册","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"schema":{"$ref":"#/definitions/Response"},"description":"OK"}},"parameters":[{"in":"header","name":"Authentication","type":"string","required":false,"description":"token"},{"in":"path","name":"appInstanceUuid","type":"string","required":true,"description":"appInstanceUuid"},{"in":"path","name":"serviceInstanceUuid","type":"string","required":true,"description":"serviceInstanceUuid"},{"in":"path","name":"domainUuid","type":"string","required":true,"description":"domainUuid"}],"description":"域名注册","operationId":"api.domain.register"}}},"swagger":"2.0","basePath":"/","definitions":{"Env":{"type":"object","required":["name","value"],"properties":{"name":{"type":"string","example":"ENV_HELLO","description":"环境变量键"},"value":{"type":"string","example":"WORLD","description":"环境变量值"}}},"Port":{"type":"object","required":["domain","hostPort","name","port","protocol","targetPort"],"properties":{"name":{"type":"string","example":"dms8080","description":"名称"},"port":{"type":"integer","format":"int32","example":8080,"description":"服务映射端口"},"domain":{"type":"string","example":"test001.dev-ag.56qq.com","description":"域名"},"hostPort":{"type":"integer","format":"int32","example":8080,"description":"暴露端口"},"protocol":{"type":"string","example":"TCP","description":"协议TCP/UDP"},"targetPort":{"type":"integer","format":"int32","example":8080,"description":"服务端口"}}},"Limit":{"type":"object","required":["max","min"],"properties":{"max":{"type":"integer","format":"int32"},"min":{"type":"integer","format":"int32"}}},"Volume":{"type":"object","required":["hostPath","mountPath","name","type"],"properties":{"name":{"type":"string"},"type":{"type":"string"},"hostPath":{"type":"string"},"mountPath":{"type":"string"}}},"Cluster":{"type":"object","properties":{"name":{"type":"string"},"uuid":{"type":"string"},"agUrl":{"type":"string"},"status":{"type":"integer","format":"int32"},"deleted":{"type":"integer","format":"int32"},"version":{"type":"string"},"agWebUrl":{"type":"string"},"kafkaUrl":{"type":"string"},"k8sApiUrl":{"type":"string"},"caCertData":{"type":"string"},"grafanaUrl":{"type":"string"},"createdTime":{"type":"string","format":"date-time"},"createdUser":{"type":"string"},"heapsterUrl":{"type":"string"},"updatedTime":{"type":"string","format":"date-time"},"updatedUser":{"type":"string"},"opentsdbName":{"type":"string"},"clientKeyData":{"type":"string"},"etcdServerUrl":{"type":"string"},"webConsoleUrl":{"type":"string"},"clientCertData":{"type":"string"},"etcdClientKeyData":{"type":"string"},"etcdClientCertData":{"type":"string"}}},"FileMeta":{"type":"object","properties":{"owner":{"type":"string"},"fileName":{"type":"string"},"fileSize":{"type":"string"},"hostPath":{"type":"string"},"modifiedTime":{"type":"string"}}},"KmKeyDto":{"type":"object","required":["env","serviceId"],"properties":{"env":{"type":"string","example":"dev","description":"环境"},"memo":{"type":"string"},"uuid":{"type":"string"},"appNum":{"type":"string"},"source":{"type":"integer","format":"int32","example":1,"description":"Key录入来源，1手工，2Hooke"},"keyName":{"type":"string","example":"1","description":"密钥包录入来源，1手工，2Hooke"},"keyType":{"type":"integer","format":"int32","example":1,"description":"key类型，1:公钥,2:私钥,3:证书,4:授权,5:token,6:keyvalue"},"keyValue":{"type":"string"},"serviceId":{"type":"string","example":"planck","description":"服务名"},"expiredTime":{"type":"string","format":"date-time"},"serviceDist":{"type":"string","example":"v2","description":"服务版本"},"originKeyUuid":{"type":"string"}}},"Response":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"object"},"message":{"type":"string"},"respSource":{"$ref":"#/definitions/RespSource"}}},"SecretVo":{"type":"object","properties":{"secretName":{"type":"string"},"secretUuid":{"type":"string"},"secretMount":{"type":"string"}}},"LabelInfo":{"type":"object","required":["createdTime","createdUser","description","labelName","labelType","labelValue","updatedTime","updatedUser","uuid"],"properties":{"uuid":{"type":"string"},"labelName":{"type":"string"},"labelType":{"type":"integer","format":"int32"},"labelValue":{"type":"string"},"createdTime":{"type":"string","format":"date-time"},"createdUser":{"type":"string"},"description":{"type":"string"},"updatedTime":{"type":"string","format":"date-time"},"updatedUser":{"type":"string"}}},"ConfirmDto":{"type":"object","required":["migrationId"],"properties":{"memo":{"type":"string","example":"迁移成功","description":"备注"},"result":{"type":"string","example":"未执行3个，成功1个，失败1个","description":"迁移结果"},"migrationId":{"type":"integer","format":"int64","example":1,"description":"迁移任务id"}}},"DockerRepo":{"type":"object","properties":{"name":{"type":"string"},"uuid":{"type":"string"},"domain":{"type":"string"},"status":{"type":"integer","format":"int32"},"account":{"type":"string"},"deleted":{"type":"integer","format":"int32"},"version":{"type":"string"},"password":{"type":"string"},"clusterUuid":{"type":"string"},"createdTime":{"type":"string","format":"date-time"},"createdUser":{"type":"string"},"description":{"type":"string"},"updatedTime":{"type":"string","format":"date-time"},"updatedUser":{"type":"string"}}},"InjectMeta":{"type":"object","required":["instanceIds"],"properties":{"serviceId":{"type":"string"},"instanceIds":{"type":"array","items":{"type":"string"},"example":"[\"instanceId1\",\"instanceId2\"]","description":"instanceIds"},"serviceDist":{"type":"string"}}},"PlanckMeta":{"type":"object","properties":{"namespace":{"type":"string"},"serviceId":{"type":"string"},"instanceId":{"type":"string"},"clusterUuid":{"type":"string"},"metaVersion":{"type":"string"},"serviceDist":{"type":"string"},"serviceName":{"type":"string"},"archiveEnabled":{"type":"string"},"serviceVersion":{"type":"string"}}},"PlanckZone":{"type":"object","properties":{"env":{"type":"string"},"planck":{"type":"string"},"status":{"type":"integer","format":"int32"},"zoneId":{"type":"string"},"message":{"type":"string"},"createUser":{"type":"string"},"createdTime":{"type":"string"}}},"RespSource":{"type":"object","properties":{"appName":{"type":"string"},"clusterUuid":{"type":"string"},"serviceName":{"type":"string"},"appInstanceUuid":{"type":"string"},"serviceInstanceUuid":{"type":"string"}}},"AppInstance":{"type":"object","properties":{"uuid":{"type":"string"},"owner":{"type":"string"},"source":{"type":"integer","format":"int32"},"status":{"type":"integer","format":"int32"},"appName":{"type":"string"},"appUuid":{"type":"string"},"deleted":{"type":"integer","format":"int32"},"namespace":{"type":"string"},"deployType":{"type":"string"},"statusTime":{"type":"string","format":"date-time"},"clusterUuid":{"type":"string"},"createdTime":{"type":"string","format":"date-time"},"createdUser":{"type":"string"},"description":{"type":"string"},"updatedTime":{"type":"string","format":"date-time"},"updatedUser":{"type":"string"},"serviceCount":{"type":"integer","format":"int32"},"statusTimeStr":{"type":"string"},"containerCount":{"type":"integer","format":"int32"},"serviceInstanceList":{"type":"array","items":{"$ref":"#/definitions/ServiceStatusDto"}}}},"ArchiveData":{"type":"object","properties":{"nodeIp":{"type":"string"},"planckMeta":{"$ref":"#/definitions/PlanckMeta"},"archiveDate":{"type":"string"},"archiveType":{"type":"string"},"createdTime":{"type":"string"},"containerPath":{"type":"string"},"archiveFileList":{"type":"array","items":{"$ref":"#/definitions/ArchiveFileMeta"}}}},"ExtraConfig":{"type":"object","properties":{"cpuLimit":{"type":"number","format":"float","example":1,"description":"CPU限制"},"memoryLimit":{"type":"number","format":"float","example":2,"description":"内存限制"},"serviceAccount":{"type":"string","example":"heapster","description":"serviceAccount Name"},"imagePullPolicy":{"type":"string","example":"IfNotPresent","description":"镜像拉取策略：IfNotPresent、Always"}}},"HealthCheck":{"type":"object","required":["failureThreshold","httpGetPath","httpGetPort","initialDelaySeconds","periodSeconds","timeoutSeconds"],"properties":{"enabled":{"type":"boolean"},"httpGetPath":{"type":"string","example":"/healthy","description":"检查路径"},"httpGetPort":{"type":"integer","format":"int32","example":8080,"description":"端口"},"periodSeconds":{"type":"integer","format":"int32","example":15,"description":"检查周期(10-60s)"},"timeoutSeconds":{"type":"integer","format":"int32","example":5,"description":"检查超时时间(1-60s)"},"failureThreshold":{"type":"integer","format":"int32","example":5,"description":"失败重试次数(3-10次)"},"initialDelaySeconds":{"type":"integer","format":"int32","example":60,"description":"初始等待时间(15-120s)"},"livenessProbeEnabled":{"type":"boolean"},"readinessProbeEnabled":{"type":"boolean"}}},"KmSecretDto":{"type":"object","required":["env","secretName","serviceId"],"properties":{"env":{"type":"string","example":"dev","description":"环境"},"uuid":{"type":"string","example":"xxxx","description":"secret uuid"},"source":{"type":"integer","format":"int32","example":1,"description":"secret录入来源，1手工，2Hooke"},"keyList":{"type":"array","items":{"$ref":"#/definitions/KmKeyDto"}},"clusters":{"type":"array","items":{"$ref":"#/definitions/KmSecretClusterDto"}},"serviceId":{"type":"string","example":"planck","description":"服务名"},"secretName":{"type":"string","example":"Planck Service","description":"secret名称"},"createdTime":{"type":"string","format":"date-time"},"createdUser":{"type":"string"},"serviceDist":{"type":"string","example":"v2","description":"服务版本"},"updatedTime":{"type":"string","format":"date-time"},"updatedUser":{"type":"string"},"secretStatus":{"type":"integer","format":"int32","example":1,"description":"secret状态，1启用（默认），其他禁用"}}},"CiDeployMeta":{"type":"object","required":["args","businessId","clusterUuid","command","deployType","envs","extraConfig","healthCheck","image","labels","ports","serviceName","serviceType","templateType","version","volumes"],"properties":{"cpu":{"type":"number","format":"float","example":0,"description":"cpu数"},"args":{"type":"string","example":"[\"param1\",\"param2\"]","description":"参数列表，json数组字符串"},"envs":{"type":"array","items":{"$ref":"#/definitions/Env"}},"isBg":{"type":"integer","format":"int32","example":1,"description":"是否蓝绿部署，默认:1是"},"email":{"type":"string","example":"xxx@56qq.com","description":"部署操作人邮箱"},"image":{"type":"string","example":"dev.docker.56qq.cn:5000/k8stest:v1.2","description":"镜像地址"},"ports":{"type":"array","items":{"$ref":"#/definitions/Port"}},"scale":{"type":"integer","format":"int32","example":1,"description":"实例数"},"labels":{"type":"string"},"memory":{"type":"number","format":"float","example":0,"description":"内存默认0.5, 单位G"},"appName":{"type":"string","example":"cmpapi","description":"应用名称"},"command":{"type":"string","example":"[\"echo\",\"xx\"]","description":"命令行，json数组字符串"},"version":{"type":"string","example":"v1.1","description":"服务版本"},"volumes":{"type":"array","items":{"$ref":"#/definitions/VolumeMountVo"}},"username":{"type":"string","example":"张三","description":"部署操作人"},"businessId":{"type":"string"},"deployType":{"type":"string","example":"production","description":"发布类型：dev/qa/production/staging"},"clusterUuid":{"type":"string","example":"xxxx","description":"部署集群"},"extraConfig":{"$ref":"#/definitions/ExtraConfig"},"healthCheck":{"$ref":"#/definitions/HealthCheck"},"networkType":{"type":"integer","format":"int32","example":1,"description":"网络类型默认2hostPort,1cni,2hostPort"},"serviceName":{"type":"string","example":"cmpapi","description":"服务名称"},"serviceType":{"type":"integer","format":"int32","example":1,"description":"服务类型：1tomcat7;2tomcat8;3maxwell;4tomcat;5general"},"templateType":{"type":"integer","format":"int32"}}},"EndpointsDto":{"type":"object","properties":{"host":{"type":"string"},"port":{"type":"string"}}},"MigrationDto":{"type":"object","properties":{"serviceUuids":{"type":"array","items":{"type":"string"},"example":"['xxxx','xxxx']","description":"待迁移服务uuids"},"newClusterUuid":{"type":"string","example":"xxxx","description":"新集群uuid"},"oldClusterUuid":{"type":"string","example":"xxxx","description":"原集群uuid"}}},"ServiceEnvVo":{"type":"object","required":["name","value"],"properties":{"name":{"type":"string","example":"ENV_AA","description":"环境变量key"},"value":{"type":"string","example":"AA","description":"环境变量value"}}},"CiUpgradeMeta":{"type":"object","required":["image","serviceInstanceUuid","version"],"properties":{"image":{"type":"string","example":"dev.docker.56qq.cn:5000/k8stest:v1.2","description":"服务镜像地址"},"version":{"type":"string","example":"v1.2","description":"服务版本"},"updateType":{"type":"integer","format":"int32","example":1,"description":"升级类型：1蓝绿部署(默认);2立即升级"},"serviceType":{"type":"integer","format":"int32","example":1,"description":"服务类型（为空和原部署保持一致）：1tomcat7;2tomcat8;3maxwell;4tomcat;5general"},"serviceInstanceUuid":{"type":"string","example":"84e25c52-ca0f-4a33-882d-cb71dbdc87e0","description":"服务实例uuid"}}},"KmAuthSignDto":{"type":"object","properties":{"sign":{"type":"string"},"granted":{"$ref":"#/definitions/KmAuthGrantedDto"}}},"VolumeMountVo":{"type":"object","required":["hostPath","mountPath","name"],"properties":{"name":{"type":"string","example":"mountlog","description":"挂载名称"},"hostPath":{"type":"string","example":"/var/logs/ulog1","description":"宿主机挂载路径"},"readOnly":{"type":"string","example":"false","description":"只读，默认false"},"mountPath":{"type":"string","example":"/var/logs/ulog1","description":"挂载路径"}}},"PortMetadataVo":{"type":"object","required":["domain","hostPort","port","protocol","replaceExist","switchImmediate","targetPort"],"properties":{"name":{"type":"string","example":"8080","description":"port name"},"port":{"type":"integer","format":"int32","example":8080,"description":"端口"},"domain":{"type":"string","example":"planck.56qq.com","description":"域名"},"hostPort":{"type":"integer","format":"int32"},"protocol":{"type":"string"},"targetPort":{"type":"integer","format":"int32","example":8080,"description":"目标端口"},"replaceExist":{"type":"integer","format":"int32"},"switchImmediate":{"type":"integer","format":"int32"}}},"ResponseOflong":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"integer","format":"int64"},"message":{"type":"string"},"respSource":{"$ref":"#/definitions/RespSource"}}},"SecretParseDto":{"type":"object","required":["env","serviceId"],"properties":{"env":{"type":"string","example":"dev","description":"环境"},"memo":{"type":"string"},"appNum":{"type":"string"},"publicKey":{"type":"string"},"serviceId":{"type":"string","example":"planck","description":"服务名"},"privateKey":{"type":"string"}}},"AlbertReqParams":{"type":"object","required":["action","configPath","env","id","message","metaData","object","stateMachine","system","type"],"properties":{"id":{"type":"string"},"env":{"type":"string"},"type":{"type":"integer","format":"int32"},"action":{"type":"string"},"object":{"type":"string"},"system":{"type":"string"},"message":{"type":"string"},"metaData":{"type":"string"},"configPath":{"type":"string"},"stateMachine":{"type":"string"}}},"ArchiveFileMeta":{"type":"object","properties":{"fileName":{"type":"string"},"fileSize":{"type":"string"},"hdfsPath":{"type":"string"},"archiveDate":{"type":"string"},"downloadUrl":{"type":"string"},"fileMetaList":{"type":"array","items":{"$ref":"#/definitions/FileMeta"}},"containerPath":{"type":"string"},"zippedFileSize":{"type":"string"}}},"DmsDepartmentVo":{"type":"object","required":["code","name","uuid"],"properties":{"code":{"type":"string"},"name":{"type":"string"},"uuid":{"type":"string"}}},"DomainStatusDto":{"type":"object","properties":{"domain":{"type":"string","example":"planck.56qq.com","description":"域名"},"status":{"type":"integer","format":"int32","example":1,"description":"域名状态"}}},"ServiceInstance":{"type":"object","properties":{"cpu":{"type":"number","format":"float"},"args":{"type":"string"},"envs":{"type":"array","items":{"$ref":"#/definitions/ServiceEnvVo"}},"name":{"type":"string"},"uuid":{"type":"string"},"group":{"type":"string"},"image":{"type":"string"},"owner":{"type":"string"},"ports":{"type":"array","items":{"$ref":"#/definitions/PortMetadataVo"}},"scale":{"type":"integer","format":"int32"},"ccUuid":{"type":"string"},"labels":{"type":"string"},"memory":{"type":"number","format":"float"},"source":{"type":"integer","format":"int32"},"status":{"type":"integer","format":"int32"},"command":{"type":"string"},"deleted":{"type":"integer","format":"int32"},"secrets":{"type":"array","items":{"$ref":"#/definitions/SecretVo"}},"svcName":{"type":"string"},"version":{"type":"string"},"volumes":{"type":"array","items":{"$ref":"#/definitions/VolumeMountVo"}},"linkUuid":{"type":"string"},"nodeName":{"type":"string"},"replicas":{"type":"integer","format":"int32"},"stateful":{"type":"integer","format":"int32"},"autoScale":{"$ref":"#/definitions/AutoScaleMetadata"},"namespace":{"type":"string"},"bizTagUuid":{"type":"string"},"deployType":{"type":"string"},"deployUuid":{"type":"string"},"statusTime":{"type":"string","format":"date-time"},"clusterUuid":{"type":"string"},"createdTime":{"type":"string","format":"date-time"},"createdUser":{"type":"string"},"description":{"type":"string"},"extraConfig":{"$ref":"#/definitions/ExtraConfig"},"healthCheck":{"$ref":"#/definitions/HealthCheck"},"networkType":{"type":"integer","format":"int32"},"releaseType":{"type":"string"},"serviceType":{"type":"integer","format":"int32"},"serviceUuid":{"type":"string"},"svcMetadata":{"type":"string"},"updatedTime":{"type":"string","format":"date-time"},"updatedUser":{"type":"string"},"deploymentId":{"type":"string"},"k8sApiServer":{"type":"string"},"templateType":{"type":"integer","format":"int32"},"statusTimeStr":{"type":"string"},"deploymentName":{"type":"string"},"alertResourceId":{"type":"string"},"appInstanceUuid":{"type":"string"},"resourceVersion":{"type":"string"},"maxwellCmdSwitch":{"type":"integer","format":"int32"},"autoscaleMetadata":{"type":"string"},"deploymentMetadata":{"type":"string"}}},"ServiceQuotaDto":{"type":"object","properties":{"cpuQuota":{"type":"number","format":"float"},"podQuota":{"type":"integer","format":"int32"},"serviceId":{"type":"string"},"memoryQuota":{"type":"number","format":"float"},"instanceQuota":{"type":"integer","format":"int32"}}},"K8sWatchEventDto":{"type":"object","properties":{"data":{"type":"string"},"resource":{"type":"string"},"actionName":{"type":"string"}}},"KmAuthGrantedDto":{"type":"object","properties":{"proxies":{"type":"array","items":{"type":"string"}},"services":{"type":"array","items":{"type":"string"}},"components":{"type":"array","items":{"type":"string"}}}},"KmSecretApplyDto":{"type":"object","required":["env","serviceDist","serviceId"],"properties":{"env":{"type":"string","example":"dev","description":"环境"},"serviceId":{"type":"string","example":"planck","description":"服务名"},"serviceDist":{"type":"string","example":"v2","description":"服务版本"}}},"MigrationRespDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64","example":1,"description":"任务ID"},"memo":{"type":"string","example":"确认成功","description":"备注信息"},"result":{"type":"string","example":"未执行3个，成功1个，失败1个","description":"任务结果"},"status":{"type":"integer","format":"int32","example":1,"description":"任务状态"},"deployed":{"type":"boolean","example":true,"description":"是否已部署"},"recycled":{"type":"boolean","example":true,"description":"是否已回收"},"confirmUser":{"type":"string","example":"zhangsan@56qq.com","description":"确认人"},"createdTime":{"type":"string","format":"date-time","example":"2019-04-10 15：00：00","description":"创建时间"},"createdUser":{"type":"string","example":"zhangsan@56qq.com","description":"创建人"},"updatedTime":{"type":"string","format":"date-time","example":"2019-04-10 16：00：00","description":"更新时间"},"transServices":{"type":"array","items":{"$ref":"#/definitions/MigrationInstanceRespDto"}},"newClusterName":{"type":"string","example":"kube-1.12.4","description":"新集群名"},"newClusterUuid":{"type":"string","example":"xxxx","description":"新集群uuid"},"oldClusterName":{"type":"string","example":"kube-1.5.0","description":"原集群名"},"oldClusterUuid":{"type":"string","example":"xxxx","description":"原集群uuid"},"trafficSwitched":{"type":"boolean","example":true,"description":"是否已切换流量"}}},"ServiceStatusDto":{"type":"object","properties":{"name":{"type":"string","example":"cmpapi","description":"服务名称"},"uuid":{"type":"string","example":"xxxx","description":"服务实例uuid"},"image":{"type":"string","example":"镜像地址","description":"镜像地址"},"owner":{"type":"string","example":"张三","description":"负责人"},"source":{"type":"integer","format":"int32","example":1,"description":"来源"},"status":{"type":"integer","format":"int32","example":3,"description":"服务状态"},"version":{"type":"string","example":"v1","description":"版本"},"replicas":{"type":"integer","format":"int32","example":1,"description":"服务实际副本数"},"statusTime":{"type":"string","format":"date-time"},"createdUser":{"type":"string","example":"张三","description":"创建人"},"serviceType":{"type":"integer","format":"int32","example":1,"description":"类型"},"serviceUuid":{"type":"string","example":"xxxx","description":"服务id，serviceId"},"statusTimeStr":{"type":"string","example":"x天x时x分","description":"状态持续时间显示串"}}},"dmsAutoDeployDto":{"type":"object","required":["agGroupId","appDesc","appName","autoDeploy","ccUuid","clusterTag","clusterUuid","cpu","deployType","description","email","envs","image","isBg","labels","memory","name","namespace","networkType","ports","scale","serviceType","serviceUuid","source","username","version","volumes"],"properties":{"cpu":{"type":"number","format":"float"},"envs":{"type":"array","items":{"$ref":"#/definitions/Env"}},"isBg":{"type":"integer","format":"int32"},"name":{"type":"string"},"email":{"type":"string"},"image":{"type":"string"},"ports":{"type":"array","items":{"$ref":"#/definitions/Port"}},"scale":{"type":"integer","format":"int32"},"ccUuid":{"type":"string"},"labels":{"type":"array","items":{"type":"string"}},"memory":{"type":"number","format":"float"},"source":{"type":"integer","format":"int32"},"appDesc":{"type":"string"},"appName":{"type":"string"},"version":{"type":"string"},"volumes":{"type":"array","items":{"$ref":"#/definitions/Volume"}},"username":{"type":"string"},"agGroupId":{"type":"string"},"namespace":{"type":"string"},"autoDeploy":{"type":"integer","format":"int32"},"clusterTag":{"type":"string"},"deployType":{"type":"string"},"clusterUuid":{"type":"string"},"description":{"type":"string"},"networkType":{"type":"integer","format":"int32"},"serviceType":{"type":"integer","format":"int32"},"serviceUuid":{"type":"string"}}},"AutoScaleMetadata":{"type":"object","required":["algorithm","cputhreshold","duration","enable","memthreshold","nodelimit"],"properties":{"enable":{"type":"boolean"},"duration":{"type":"integer","format":"int32"},"algorithm":{"type":"string"},"nodelimit":{"$ref":"#/definitions/Limit"},"cputhreshold":{"$ref":"#/definitions/Limit"},"memthreshold":{"$ref":"#/definitions/Limit"}}},"KmNewtonSecretDto":{"type":"object","required":["env","serviceId"],"properties":{"env":{"type":"string","example":"dev","description":"环境"},"serviceId":{"type":"string","example":"planck","description":"服务名"},"authSigned":{"$ref":"#/definitions/KmAuthSignDto"},"serviceDist":{"type":"string","example":"v2","description":"服务发行版本"}}},"AutoGenKeyPairsDto":{"type":"object","required":["env","serviceId"],"properties":{"env":{"type":"string","example":"dev","description":"环境"},"memo":{"type":"string"},"appNum":{"type":"string"},"serviceId":{"type":"string","example":"planck","description":"服务名"}}},"KmSecretClusterDto":{"type":"object","properties":{"namespace":{"type":"string","example":"dev","description":"命名空间"},"secretName":{"type":"string","example":"dev","description":"k8s中创建的密钥名称"},"clusterName":{"type":"string","example":"西信","description":"集群名称"},"clusterUuid":{"type":"string","example":"xxxx","description":"集群uuid"}}},"ServiceBusinessDto":{"type":"object","required":["businessId","serviceInstanceUuid"],"properties":{"applyAll":{"type":"boolean","example":true,"description":"是否应用到该服务所有实例"},"businessId":{"type":"string","example":"1","description":"业务中心id"},"serviceInstanceUuid":{"type":"string","example":"xxxx-xxx","description":"服务uuid"}}},"ServiceInstanceDto":{"type":"object","required":["args","clusterUuid","command","cpu","description","envs","extraConfig","healthCheck","image","memory","name","namespace","networkType","owner","ports","scale","secrets","version","volumes"],"properties":{"cpu":{"type":"number","format":"float","example":1,"description":"cpu"},"args":{"type":"string","example":"param1,param2","description":"参数列表，json数组字符串"},"envs":{"type":"array","items":{"$ref":"#/definitions/ServiceEnvVo"}},"name":{"type":"string","example":"planck","description":"服务名称"},"image":{"type":"string","example":"reg1.dev.56qq.cn/app/k8stest:v1.1","description":"镜像地址"},"owner":{"type":"string"},"ports":{"type":"array","items":{"$ref":"#/definitions/PortMetadataVo"}},"scale":{"type":"integer","format":"int32","example":1,"description":"期望副本数"},"labels":{"type":"string","example":"dev","description":"部署标签"},"memory":{"type":"number","format":"float","example":1,"description":"内存"},"appName":{"type":"string","example":"planck","description":"应用名称"},"command":{"type":"string","example":"echo,xx","description":"命令行字符串"},"secrets":{"type":"array","items":{"$ref":"#/definitions/SecretVo"}},"version":{"type":"string","example":"v1","description":"服务版本2-50位，以字母或者数字开头，允许字母、数字、_、-和.，以字母或者数字结尾"},"volumes":{"type":"array","items":{"$ref":"#/definitions/VolumeMountVo"}},"nodeName":{"type":"string","example":"dev","description":"节点名称"},"namespace":{"type":"string","example":"dev","description":"namespace"},"businessId":{"type":"string","example":"1","description":"业务中心id"},"clusterUuid":{"type":"string","example":"xxxx-xxx","description":"集群uuid"},"description":{"type":"string","example":"planck api description","description":"服务描述，长度0~500"},"extraConfig":{"$ref":"#/definitions/ExtraConfig"},"healthCheck":{"$ref":"#/definitions/HealthCheck"},"networkType":{"type":"integer","format":"int32","example":1,"description":"网络类型:1cni,2hostPort"},"serviceType":{"type":"integer","format":"int32","example":"xxxx-xxx","description":"服务类型1tomcat7,2tomcat8,3maxwell,4tomcat,5general"},"templateType":{"type":"integer","format":"int32","example":1,"description":"实例类型1：rc; 2:deployment; 3:daemonset"},"appInstanceUuid":{"type":"string","example":"xxxx-xxx","description":"应用uuid，选择应用传递uuid"}}},"ServiceMetaModifyDto":{"type":"object","properties":{"message":{"type":"string"},"serviceId":{"type":"string"},"serviceName":{"type":"string"},"archiveQuota":{"type":"integer","format":"int64"},"archiveEnabled":{"type":"boolean"}}},"CopyServiceInstanceDto":{"type":"object","required":["deployType","image","version"],"properties":{"image":{"type":"string"},"version":{"type":"string"},"deployType":{"type":"string"}}},"PageOfMigrationRespDto":{"type":"object","properties":{"pn":{"type":"integer","format":"int32"},"ps":{"type":"integer","format":"int32"},"end":{"type":"integer","format":"int32"},"datas":{"type":"array","items":{"$ref":"#/definitions/MigrationRespDto"}},"start":{"type":"integer","format":"int32"},"stats":{"type":"object"},"total":{"type":"integer","format":"int32"},"conditions":{"type":"object"}}},"ResponseOfListOfstring":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"array","items":{"type":"string"}},"message":{"type":"string"},"respSource":{"$ref":"#/definitions/RespSource"}}},"MigrationServiceRespDto":{"type":"object","properties":{"scale":{"type":"integer","format":"int32","example":2,"description":"期望副本数"},"source":{"type":"integer","format":"int32","example":1,"description":"服务来源"},"status":{"type":"integer","format":"int32","example":1,"description":"服务状态"},"appUuid":{"type":"string","example":"xxxx","description":"应用uuid"},"replicas":{"type":"integer","format":"int32","example":2,"description":"实际副本数"},"serviceId":{"type":"string","example":"planck","description":"服务id"},"createdTime":{"type":"string","format":"date-time","example":"2019-04-10 15：00：00","description":"创建时间"},"releaseType":{"type":"string","example":"2","description":"发布类型"},"serviceName":{"type":"string","example":"planck","description":"服务名"},"serviceType":{"type":"integer","format":"int32","example":2,"description":"服务类型"},"serviceUuid":{"type":"string","example":"xxxx","description":"服务uuid"},"updatedTime":{"type":"string","format":"date-time","example":"2019-04-10 16：00：00","description":"更新时间"},"serviceVersion":{"type":"string","example":"xxxx","description":"服务版本"}}},"PasteServiceInstanceDto":{"type":"object","required":["args","clusterUuid","command","cpu","description","image","memory","name","namespace","networkType","newClusterUuid","scale","version","zoneEnv"],"properties":{"cpu":{"type":"number","format":"float","example":1,"description":"cpu"},"args":{"type":"string","example":"param1,param2","description":"参数列表，json数组字符串"},"envs":{"type":"array","items":{"$ref":"#/definitions/ServiceEnvVo"}},"name":{"type":"string","example":"planck","description":"服务名称"},"image":{"type":"string","example":"reg1.dev.56qq.cn/app/k8stest:v1.1","description":"镜像地址"},"owner":{"type":"string"},"ports":{"type":"array","items":{"$ref":"#/definitions/PortMetadataVo"}},"scale":{"type":"integer","format":"int32","example":1,"description":"期望副本数"},"ccUuid":{"type":"string"},"labels":{"type":"string"},"memory":{"type":"number","format":"float","example":1,"description":"内存"},"source":{"type":"integer","format":"int32"},"appName":{"type":"string","example":"planck","description":"应用名称"},"command":{"type":"string","example":"echo,xx","description":"命令行字符串"},"secrets":{"type":"array","items":{"$ref":"#/definitions/SecretVo"}},"version":{"type":"string","example":"v1","description":"服务版本2-50位，以字母或者数字开头，允许字母、数字、_、-和.，以字母或者数字结尾"},"volumes":{"type":"array","items":{"$ref":"#/definitions/VolumeMountVo"}},"zoneEnv":{"type":"string","example":"dev","description":"分区环境"},"newImage":{"type":"string"},"nodeName":{"type":"string","example":"dev","description":"节点名称"},"replicas":{"type":"integer","format":"int32"},"namespace":{"type":"string","example":"dev","description":"namespace"},"bizTagUuid":{"type":"string"},"businessId":{"type":"string","example":"1","description":"业务中心id"},"deployUuid":{"type":"string"},"newVersion":{"type":"string"},"clusterUuid":{"type":"string","example":"xxxx-xxx","description":"集群uuid"},"description":{"type":"string","example":"planck api description","description":"服务描述，长度0~500"},"extraConfig":{"$ref":"#/definitions/ExtraConfig"},"healthCheck":{"$ref":"#/definitions/HealthCheck"},"networkType":{"type":"integer","format":"int32","example":1,"description":"网络类型:1cni,2hostPort"},"serviceType":{"type":"integer","format":"int32","example":"xxxx-xxx","description":"服务类型1tomcat7,2tomcat8,3maxwell,4tomcat,5general"},"serviceUuid":{"type":"string"},"deploymentId":{"type":"string"},"templateType":{"type":"integer","format":"int32","example":1,"description":"实例类型1：rc; 2:deployment; 3:daemonset"},"newClusterUuid":{"type":"string","example":"xxxx-xxx","description":"集群uuid"},"appInstanceUuid":{"type":"string","example":"xxxx-xxx","description":"应用uuid，选择应用传递uuid"},"maxwellCmdSwitch":{"type":"integer","format":"int32"}}},"MigrationInstanceRespDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"scale":{"type":"integer","format":"int32","example":2,"description":"期望副本数"},"serviceId":{"type":"string","example":"planck","description":"服务id"},"createdTime":{"type":"string","format":"date-time","example":"2019-04-10 15：00：00","description":"创建时间"},"migrationId":{"type":"integer","format":"int64","example":1,"description":"迁移任务ID"},"newReplicas":{"type":"integer","format":"int32","example":2,"description":"新实例实际副本数"},"oldReplicas":{"type":"integer","format":"int32","example":2,"description":"原实例实际副本数"},"serviceName":{"type":"string","example":"planck","description":"服务名"},"serviceType":{"type":"integer","format":"int32","example":1,"description":"服务类型"},"updatedTime":{"type":"string","format":"date-time","example":"2019-04-10 16：00：00","description":"更新时间"},"deployResult":{"type":"string","example":"部署失败","description":"部署结果"},"deployStatus":{"type":"integer","format":"int32","example":1,"description":"部署状态"},"recycleResult":{"type":"string","example":"迁移失败","description":"回收结果"},"recycleStatus":{"type":"integer","format":"int32","example":1,"description":"回收状态"},"newClusterName":{"type":"string","example":"kube-1.12.4","description":"新集群名"},"newClusterUuid":{"type":"string","example":"xxxx","description":"新集群uuid"},"oldClusterName":{"type":"string","example":"kube-1.5.0","description":"原集群名"},"oldClusterUuid":{"type":"string","example":"xxxx","description":"原集群uuid"},"serviceVersion":{"type":"string","example":"xxxx","description":"服务版本"},"newInstanceUuid":{"type":"string","example":"xxxx","description":"新服务实例uuid"},"oldInstanceUuid":{"type":"string","example":"xxxx","description":"原服务实例uuid"},"newInstanceStatus":{"type":"integer","format":"int32","example":1,"description":"新服务实例状态"},"oldInstanceStatus":{"type":"integer","format":"int32","example":1,"description":"原服务实例状态"},"newAppInstanceUuid":{"type":"string","example":"xxxx","description":"新应用实例uuid"},"oldAppInstanceUuid":{"type":"string","example":"xxxx","description":"原应用实例uuid"},"trafficSwitchResult":{"type":"string","example":"迁移失败","description":"流量迁移结果"},"trafficSwitchStatus":{"type":"integer","format":"int32","example":1,"description":"域名切换状态"},"newDomainsStatusList":{"type":"array","items":{"$ref":"#/definitions/DomainStatusDto"}},"oldDomainsStatusList":{"type":"array","items":{"$ref":"#/definitions/DomainStatusDto"}}}},"ResponseOfMigrationRespDto":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/MigrationRespDto"},"message":{"type":"string"},"respSource":{"$ref":"#/definitions/RespSource"}}},"MidwareServiceInstanceParam":{"type":"object","required":["description","forceIsolate","limitCpu","limitMemory","parameters","persistence","planId","replicas","requestCpu","requestMemory","serviceId","serviceName"],"properties":{"planId":{"type":"string","example":"37588bb8-68c1-4951-999a-7905082f4bc4","description":"中间件 planId 不能为 Null"},"limitCpu":{"type":"integer","format":"int32","example":1,"description":"中间件服务 limitCpu, 核"},"replicas":{"type":"integer","format":"int32","example":1,"description":"中间件服务副本数"},"namespace":{"type":"string","example":"dev","description":"中间件服务实例环境"},"serviceId":{"type":"string","example":"c6dc4b35-838e-4aaf-a850-322a19a2203b","description":"中间件 serviceId"},"parameters":{"type":"string","example":" { \"kafka\": {\n            \"heapOptions\": \"-Xmx2G -Xms2G\",\n            \"props\": {\n                \"log.retention.hours\": 24\n            }\n        }\n   }","description":"中间件服务参数"},"requestCpu":{"type":"integer","format":"int32","example":1,"description":"中间件服务 requestCpu, 核"},"description":{"type":"string","example":"Galileo kafka instance","description":"中间件服务实例描述"},"limitMemory":{"type":"number","format":"float","example":1,"description":"中间件服务 limitMemory, Gi"},"persistence":{"type":"integer","format":"int32","example":5,"description":"中间件服务存储, Gi"},"serviceName":{"type":"string","example":"kafka","description":"中间件服务名称"},"forceIsolate":{"type":"boolean","example":false,"description":"中间件服务强制隔离"},"requestMemory":{"type":"number","format":"float","example":1,"description":"中间件服务 requestMemory, Gi"},"serviceVersion":{"type":"string","example":"2.0.0","description":"中间件服务版本"},"userServiceName":{"type":"string","example":"planck","description":"中间件服务实例 User"}},"description":"中间件服务实例参数"},"PageOfMigrationServiceRespDto":{"type":"object","properties":{"pn":{"type":"integer","format":"int32"},"ps":{"type":"integer","format":"int32"},"end":{"type":"integer","format":"int32"},"datas":{"type":"array","items":{"$ref":"#/definitions/MigrationServiceRespDto"}},"start":{"type":"integer","format":"int32"},"stats":{"type":"object"},"total":{"type":"integer","format":"int32"},"conditions":{"type":"object"}}},"ServiceOperationAsConditionDto":{"type":"object","required":["domainStatus","serviceStatus"],"properties":{"env":{"type":"string","example":"dev","description":"环境，不传默认当前环境"},"domainStatus":{"type":"integer","format":"int32","example":3,"description":"域名状态:1未注册2已绑定3未绑定4已灰度5passs/6mannal/7hooke占用"},"operationType":{"type":"integer","format":"int32","example":"false","description":"操作类型：46删除，其他停止"},"serviceStatus":{"type":"integer","format":"int32","example":3,"description":"服务状态:3运行中/11异常/5已停止"}}},"ResponseOfPageOfMigrationRespDto":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/PageOfMigrationRespDto"},"message":{"type":"string"},"respSource":{"$ref":"#/definitions/RespSource"}}},"ResponseOfPageOfMigrationServiceRespDto":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/PageOfMigrationServiceRespDto"},"message":{"type":"string"},"respSource":{"$ref":"#/definitions/RespSource"}}}}}